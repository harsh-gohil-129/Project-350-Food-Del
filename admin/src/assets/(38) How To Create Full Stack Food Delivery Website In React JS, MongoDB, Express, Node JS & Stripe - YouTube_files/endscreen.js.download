(function(g){var window=this;'use strict';var Zpr=function(r,D){r.KP("onAutonavCoundownStarted",D)},Xl_=function(r){var D,Y,V;
return r==null?void 0:(D=r.playerOverlays)==null?void 0:(Y=D.playerOverlayRenderer)==null?void 0:(V=Y.autoplay)==null?void 0:V.playerOverlayAutoplayRenderer},Td=function(r,D,Y){g.Fw(r.element,"ytp-suggestion-set",!!D.videoId);
var V=D.playlistId;Y=D.lc(Y?Y:"mqdefault.jpg");var L=null,T=null;D instanceof g.iD&&(D.lengthText?(L=D.lengthText||null,T=D.bC||null):D.lengthSeconds&&(L=g.lr(D.lengthSeconds),T=g.lr(D.lengthSeconds,!0)));var I=!!V;V=I&&g.hr(V).type==="RD";var B=D instanceof g.iD?D.isLivePlayback:null,m=D instanceof g.iD?D.isUpcoming:null,G=D.author,M=D.shortViewCount,Q=D.publishedTimeText,y=[],a=[];G&&y.push(G);M&&(y.push(M),a.push(M));Q&&a.push(Q);Y={title:D.title,author:G,author_and_views:y.join(" \u2022 "),aria_label:D.ariaLabel||
g.On("Watch $TITLE",{TITLE:D.title}),duration:L,timestamp:T,url:D.us(),is_live:B,is_upcoming:m,is_list:I,is_mix:V,background:Y?"background-image: url("+Y+")":"",views_and_publish_time:a.join(" \u2022 "),autoplayAlternativeHeader:D.Hv};D instanceof g.tr&&(Y.playlist_length=D.playlistLength);r.update(Y)},Iy=function(r){var D=r.Z(),Y=D.S;
g.Z.call(this,{G:"a",U:"ytp-autonav-suggestion-card",J:{href:"{{url}}",target:Y?D.Y:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},B:[{G:"div",hT:["ytp-autonav-endscreen-upnext-thumbnail","ytp-autonav-thumbnail-small"],J:{style:"{{background}}"},B:[{G:"div",J:{"aria-label":"{{timestamp}}"},hT:["ytp-autonav-timestamp"],SD:"{{duration}}"},{G:"div",hT:["ytp-autonav-live-stamp"],SD:"Live"},{G:"div",
hT:["ytp-autonav-upcoming-stamp"],SD:"Upcoming"},{G:"div",U:"ytp-autonav-list-overlay",B:[{G:"div",U:"ytp-autonav-mix-text",SD:"Mix"},{G:"div",U:"ytp-autonav-mix-icon"}]}]},{G:"div",hT:["ytp-autonav-endscreen-upnext-title","ytp-autonav-title-card"],SD:"{{title}}"},{G:"div",hT:["ytp-autonav-endscreen-upnext-author","ytp-autonav-author-card"],SD:"{{author}}"},{G:"div",hT:["ytp-autonav-endscreen-upnext-author","ytp-autonav-view-and-date-card"],SD:"{{views_and_publish_time}}"}]});this.C=r;this.suggestion=
null;this.W=Y;this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress)},xY=function(r,D){D=D===void 0?!1:D;
g.Z.call(this,{G:"div",U:"ytp-autonav-endscreen-countdown-overlay"});var Y=this;this.N=D;this.cancelCommand=this.D=void 0;this.L=0;this.container=new g.Z({G:"div",U:"ytp-autonav-endscreen-countdown-container"});g.v(this,this.container);this.container.CP(this.element);D=r.Z();var V=D.S;this.C=r;this.suggestion=null;this.onVideoDataChange("newdata",this.C.getVideoData());this.X(r,"videodatachange",this.onVideoDataChange);this.W=new g.Z({G:"div",U:"ytp-autonav-endscreen-upnext-container",J:{"aria-label":"{{aria_label}}",
"data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},B:[{G:"div",U:"ytp-autonav-endscreen-upnext-header"},{G:"div",U:"ytp-autonav-endscreen-upnext-alternative-header",SD:"{{autoplayAlternativeHeader}}"},{G:"a",U:"ytp-autonav-endscreen-link-container",J:{href:"{{url}}",target:V?D.Y:""},B:[{G:"div",U:"ytp-autonav-endscreen-upnext-thumbnail",J:{style:"{{background}}"},B:[{G:"div",J:{"aria-label":"{{timestamp}}"},hT:["ytp-autonav-timestamp"],
SD:"{{duration}}"},{G:"div",hT:["ytp-autonav-live-stamp"],SD:"Live"},{G:"div",hT:["ytp-autonav-upcoming-stamp"],SD:"Upcoming"}]},{G:"div",U:"ytp-autonav-endscreen-video-info",B:[{G:"div",U:"ytp-autonav-endscreen-premium-badge"},{G:"div",U:"ytp-autonav-endscreen-upnext-title",SD:"{{title}}"},{G:"div",U:"ytp-autonav-endscreen-upnext-author",SD:"{{author}}"},{G:"div",U:"ytp-autonav-view-and-date",SD:"{{views_and_publish_time}}"},{G:"div",U:"ytp-autonav-author-and-view",SD:"{{author_and_views}}"}]}]}]});
g.v(this,this.W);this.W.CP(this.container.element);V||this.X(this.W.l$("ytp-autonav-endscreen-link-container"),"click",this.xY);this.C.createClientVe(this.container.element,this,115127);this.C.createClientVe(this.W.l$("ytp-autonav-endscreen-link-container"),this,115128);this.overlay=new g.Z({G:"div",U:"ytp-autonav-overlay"});g.v(this,this.overlay);this.overlay.CP(this.container.element);this.T=new g.Z({G:"div",U:"ytp-autonav-endscreen-button-container"});g.v(this,this.T);this.T.CP(this.container.element);
this.cancelButton=new g.Z({G:"button",hT:["ytp-autonav-endscreen-upnext-button","ytp-autonav-endscreen-upnext-cancel-button",D.V("web_modern_buttons")?"ytp-autonav-endscreen-upnext-button-rounded":""],J:{"aria-label":"Cancel auto-play"},SD:"Cancel"});g.v(this,this.cancelButton);this.cancelButton.CP(this.T.element);this.cancelButton.listen("click",this.zE,this);this.C.createClientVe(this.cancelButton.element,this,115129);this.playButton=new g.Z({G:"a",hT:["ytp-autonav-endscreen-upnext-button","ytp-autonav-endscreen-upnext-play-button",
D.V("web_modern_buttons")?"ytp-autonav-endscreen-upnext-button-rounded":""],J:{href:"{{url}}",role:"button","aria-label":"Play next video"},SD:"Play now"});g.v(this,this.playButton);this.playButton.CP(this.T.element);this.playButton.listen("click",this.xY,this);this.C.createServerVe(this.playButton.element,this.playButton,!0);(D=this.C.getVideoData())&&o6_(this,D);this.S=new g.LN(function(){PRa(Y)},500);
g.v(this,this.S);this.Sn();this.X(r,"autonavvisibility",this.Sn);this.C.V("web_autonav_color_transition")&&(this.X(r,"autonavchange",this.CB),this.X(r,"onAutonavCoundownStarted",this.zQb))},Bw=function(r){var D=r.C.nG(!0,r.C.isFullscreen());
g.Fw(r.container.element,"ytp-autonav-endscreen-small-mode",r.Y6(D));g.Fw(r.container.element,"ytp-autonav-endscreen-is-premium",!!r.suggestion&&!!r.suggestion.wB$);g.Fw(r.C.getRootNode(),"ytp-autonav-endscreen-cancelled-state",!r.C.R$());g.Fw(r.C.getRootNode(),"countdown-running",r.qR());g.Fw(r.container.element,"ytp-player-content",r.C.R$());g.Uf(r.overlay.element,{width:D.width+"px"});if(!r.qR()){r.C.R$()?n6M(r,Math.round(Hpe(r)/1E3)):n6M(r);D=!!r.suggestion&&!!r.suggestion.Hv;var Y=r.C.R$()||
!D;g.Fw(r.container.element,"ytp-autonav-endscreen-upnext-alternative-header-only",!Y&&D);g.Fw(r.container.element,"ytp-autonav-endscreen-upnext-no-alternative-header",Y&&!D);r.T.fC(r.C.R$());g.Fw(r.element,"ytp-enable-w2w-color-transitions",fiq(r))}},PRa=function(r){var D=Hpe(r),Y=Math,V=Y.min;
var L=r.L?Date.now()-r.L:0;Y=V.call(Y,L,D);n6M(r,Math.ceil((D-Y)/1E3));D-Y<=500&&r.qR()?r.select(!0):r.qR()&&r.S.start()},Hpe=function(r){if(r.C.isFullscreen()){var D;
r=(D=r.C.getVideoData())==null?void 0:D.FE;return r===-1||r===void 0?8E3:r}return r.C.kq()>=0?r.C.kq():g.qh(r.C.Z().experiments,"autoplay_time")||1E4},o6_=function(r,D){D=D.getWatchNextResponse();
var Y,V;D=(Y=Xl_(D))==null?void 0:(V=Y.nextButton)==null?void 0:V.buttonRenderer;r.D=D==null?void 0:D.navigationEndpoint;Y=D==null?void 0:D.trackingParams;r.playButton&&Y&&r.C.setTrackingParams(r.playButton.element,Y)},fiq=function(r){var D;
return!((D=r.C.getVideoData())==null||!D.watchToWatchTransitionRenderer)},n6M=function(r,D){D=D===void 0?-1:D;
r=r.W.l$("ytp-autonav-endscreen-upnext-header");g.xt(r);if(D>=0){D=String(D);var Y="Up next in $SECONDS".match(RegExp("\\$SECONDS","gi"))[0],V="Up next in $SECONDS".indexOf(Y);if(V>=0){r.appendChild(g.TE("Up next in $SECONDS".slice(0,V)));var L=g.Li("span");g.QO(L,"ytp-autonav-endscreen-upnext-header-countdown-number");g.MF(L,D);r.appendChild(L);r.appendChild(g.TE("Up next in $SECONDS".slice(V+Y.length)));return}}g.MF(r,"Up next")},m8=function(r,D){g.Z.call(this,{G:"div",
hT:["html5-endscreen","ytp-player-content",D||"base-endscreen"]});this.created=!1;this.player=r},Gd=function(r){g.Z.call(this,{G:"div",
hT:["ytp-upnext","ytp-player-content"],J:{"aria-label":"{{aria_label}}"},B:[{G:"div",U:"ytp-cued-thumbnail-overlay-image",J:{style:"{{background}}"}},{G:"span",U:"ytp-upnext-top",B:[{G:"span",U:"ytp-upnext-header",SD:"Up Next"},{G:"span",U:"ytp-upnext-title",SD:"{{title}}"},{G:"span",U:"ytp-upnext-author",SD:"{{author}}"}]},{G:"a",U:"ytp-upnext-autoplay-icon",J:{role:"button",href:"{{url}}","aria-label":"Play next video"},B:[{G:"svg",J:{height:"100%",version:"1.1",viewBox:"0 0 72 72",width:"100%"},
B:[{G:"circle",U:"ytp-svg-autoplay-circle",J:{cx:"36",cy:"36",fill:"#fff","fill-opacity":"0.3",r:"31.5"}},{G:"circle",U:"ytp-svg-autoplay-ring",J:{cx:"-36",cy:"36","fill-opacity":"0",r:"33.5",stroke:"#FFFFFF","stroke-dasharray":"211","stroke-dashoffset":"-211","stroke-width":"4",transform:"rotate(-90)"}},{G:"path",U:"ytp-svg-fill",J:{d:"M 24,48 41,36 24,24 V 48 z M 44,24 v 24 h 4 V 24 h -4 z"}}]}]},{G:"span",U:"ytp-upnext-bottom",B:[{G:"span",U:"ytp-upnext-cancel"},{G:"span",U:"ytp-upnext-paused",
SD:"Auto-play is paused"}]}]});this.api=r;this.cancelButton=null;this.D=this.l$("ytp-svg-autoplay-ring");this.L=this.notification=this.W=this.suggestion=null;this.S=new g.LN(this.H7,5E3,this);this.T=0;var D=this.l$("ytp-upnext-cancel");this.cancelButton=new g.Z({G:"button",hT:["ytp-upnext-cancel-button","ytp-button"],J:{tabindex:"0","aria-label":"Cancel auto-play"},SD:"Cancel"});g.v(this,this.cancelButton);this.cancelButton.listen("click",this.m_,this);this.cancelButton.CP(D);this.cancelButton&&this.api.createClientVe(this.cancelButton.element,
this,115129);g.v(this,this.S);this.api.createClientVe(this.element,this,18788);D=this.l$("ytp-upnext-autoplay-icon");this.X(D,"click",this.vD);this.api.createClientVe(D,this,115130);this.iy();this.X(r,"autonavvisibility",this.iy);this.X(r,"mdxnowautoplaying",this.Tev);this.X(r,"mdxautoplaycanceled",this.L3$);g.Fw(this.element,"ytp-upnext-mobile",this.api.Z().T)},wlr=function(r,D){if(D)return D;
if(r.api.isFullscreen()){var Y;r=(Y=r.api.getVideoData())==null?void 0:Y.FE;return r===-1||r===void 0?8E3:r}return r.api.kq()>=0?r.api.kq():g.qh(r.api.Z().experiments,"autoplay_time")||1E4},rkW=function(r,D){D=wlr(r,D);
var Y=Math,V=Y.min;var L=(0,g.dU)()-r.T;Y=V.call(Y,L,D);D=D===0?1:Math.min(Y/D,1);r.D.setAttribute("stroke-dashoffset",""+-211*(D+1));D>=1&&r.qR()&&r.api.getPresentingPlayerType()!==3?r.select(!0):r.qR()&&r.W.start()},Mv=function(r){m8.call(this,r,"autonav-endscreen");
this.overlay=this.videoData=null;this.table=new g.Z({G:"div",U:"ytp-suggestion-panel",B:[{G:"div",hT:["ytp-autonav-endscreen-upnext-header","ytp-autonav-endscreen-more-videos"],SD:"More videos"}]});this.K=new g.Z({G:"div",U:"ytp-suggestions-container"});this.videos=[];this.L=null;this.D=this.N=!1;this.T=new xY(this.player);g.v(this,this.T);this.T.CP(this.element);r.getVideoData().NJ?this.W=this.T:(this.W=new Gd(r),g.NI(this.player,this.W.element,4),g.v(this,this.W));this.overlay=new g.Z({G:"div",
U:"ytp-autonav-overlay-cancelled-state"});g.v(this,this.overlay);this.overlay.CP(this.element);this.S=new g.Cc(this);g.v(this,this.S);g.v(this,this.table);this.table.CP(this.element);this.table.show();g.v(this,this.K);this.K.CP(this.table.element);this.hide()},jY=function(r){var D=r.R$();
D!==r.D&&(r.D=D,r.player.publish("autonavvisibility"),r.D?(r.T!==r.W&&r.T.hide(),r.table.hide()):(r.T!==r.W&&r.T.show(),r.table.show()))},QM=function(r,D){g.Z.call(this,{G:"button",
hT:["ytp-watch-on-youtube-button","ytp-button"],SD:"{{content}}"});this.C=r;this.buttonType=this.buttonType=D;this.a4();this.buttonType===2&&g.yO(this.element,"ytp-continue-watching-button");this.listen("click",this.onClick);this.listen("videodatachange",this.a4);this.fC(!0)},sl=function(r,D){m8.call(this,r,"embeds-lite-endscreen");
this.C=r;this.W=D;this.C.createClientVe(this.element,this,156943);this.watchButton=new QM(r,2);g.v(this,this.watchButton);this.watchButton.CP(this.element);this.hide()},DZR=function(r){m8.call(this,r,"subscribecard-endscreen");
this.W=new g.Z({G:"div",U:"ytp-subscribe-card",B:[{G:"img",U:"ytp-author-image",J:{src:"{{profilePicture}}"}},{G:"div",U:"ytp-subscribe-card-right",B:[{G:"div",U:"ytp-author-name",SD:"{{author}}"},{G:"div",U:"html5-subscribe-button-container"}]}]});g.v(this,this.W);this.W.CP(this.element);var D=r.getVideoData();this.subscribeButton=new g.re("Subscribe",null,"Unsubscribe",null,!0,!1,D.tA,D.subscribed,"trailer-endscreen",null,r,!1);g.v(this,this.subscribeButton);this.subscribeButton.CP(this.W.l$("html5-subscribe-button-container"));
this.X(r,"videodatachange",this.Ig);this.Ig();this.hide()},yM=function(r){var D=r.Z(),Y=g.vP||g.KT?{style:"will-change: opacity"}:void 0,V=D.S,L=["ytp-videowall-still"];
D.T&&L.push("ytp-videowall-show-text");g.Z.call(this,{G:"a",hT:L,J:{href:"{{url}}",target:V?D.Y:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}"},B:[{G:"div",U:"ytp-videowall-still-image",J:{style:"{{background}}"}},{G:"span",U:"ytp-videowall-still-info",J:{"aria-hidden":"true"},B:[{G:"span",U:"ytp-videowall-still-info-bg",B:[{G:"span",U:"ytp-videowall-still-info-content",J:Y,B:[{G:"span",U:"ytp-videowall-still-info-title",SD:"{{title}}"},
{G:"span",U:"ytp-videowall-still-info-author",SD:"{{author_and_views}}"},{G:"span",U:"ytp-videowall-still-info-live",SD:"Live"},{G:"span",U:"ytp-videowall-still-info-duration",SD:"{{duration}}"}]}]}]},{G:"span",hT:["ytp-videowall-still-listlabel-regular","ytp-videowall-still-listlabel"],J:{"aria-hidden":"true"},B:[{G:"span",U:"ytp-videowall-still-listlabel-icon"},"Playlist",{G:"span",U:"ytp-videowall-still-listlabel-length",B:[" (",{G:"span",SD:"{{playlist_length}}"},")"]}]},{G:"span",hT:["ytp-videowall-still-listlabel-mix",
"ytp-videowall-still-listlabel"],J:{"aria-hidden":"true"},B:[{G:"span",U:"ytp-videowall-still-listlabel-mix-icon"},"Mix",{G:"span",U:"ytp-videowall-still-listlabel-length",SD:" (50+)"}]}]});this.suggestion=null;this.T=V;this.api=r;this.W=new g.Cc(this);g.v(this,this.W);this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress);this.W.X(r,"videodatachange",this.onVideoDataChange);r.createServerVe(this.element,this);this.onVideoDataChange()},ay=function(r){m8.call(this,r,"videowall-endscreen");
var D=this;this.C=r;this.L=0;this.stills=[];this.S=this.videoData=null;this.D=this.K=!1;this.Y=null;this.T=new g.Cc(this);g.v(this,this.T);this.N=new g.LN(function(){g.yO(D.element,"ytp-show-tiles")},0);
g.v(this,this.N);var Y=new g.Z({G:"button",hT:["ytp-button","ytp-endscreen-previous"],J:{"aria-label":"Previous"},B:[g.hm()]});g.v(this,Y);Y.CP(this.element);Y.listen("click",this.r6,this);this.table=new g.F6({G:"div",U:"ytp-endscreen-content"});g.v(this,this.table);this.table.CP(this.element);Y=new g.Z({G:"button",hT:["ytp-button","ytp-endscreen-next"],J:{"aria-label":"Next"},B:[g.tm()]});g.v(this,Y);Y.CP(this.element);Y.listen("click",this.jA,this);r.getVideoData().NJ?this.W=new xY(r,!0):this.W=
new Gd(r);g.v(this,this.W);g.NI(this.player,this.W.element,4);r.createClientVe(this.element,this,158789);this.hide()},Ww=function(r){return g.vV(r.player)&&r.qc()&&!r.S},Ul=function(r){var D=r.R$();
D!==r.K&&(r.K=D,r.player.publish("autonavvisibility"))},F0=function(r){m8.call(this,r,"watch-again-on-youtube-endscreen");
this.watchButton=new QM(r,1);g.v(this,this.watchButton);this.watchButton.CP(this.element);g.D6q(r)&&(this.W=new g.Hv(r),g.v(this,this.W),this.T=new g.Z({G:"div",hT:["ytp-watch-again-on-youtube-endscreen-more-videos-container"],J:{tabIndex:"-1"},B:[this.W]}),g.v(this,this.T),this.W.CP(this.T.element),this.T.CP(this.element));r.createClientVe(this.element,this,156914);this.hide()},Tte=function(r){g.uF.call(this,r);
var D=this;this.endScreen=null;this.T=this.W=this.L=this.S=!1;this.listeners=new g.Cc(this);g.v(this,this.listeners);var Y=r.Z(),V=r.getVideoData();V=V&&V.limitedPlaybackDurationInSeconds!==0;g.uK(g.co(Y))&&V&&!g.RO(r)?(this.T=!0,this.endScreen=new sl(r,g.qI(r))):r.isEmbedsShortsMode()?this.endScreen=new F0(r):Y05(r)?(this.S=!0,V_c(this),this.W?this.endScreen=new Mv(r):this.endScreen=new ay(r)):Y.NJ?this.endScreen=new DZR(r):this.endScreen=new m8(r);g.v(this,this.endScreen);g.NI(r,this.endScreen.element,
4);LFx(this);this.listeners.X(r,"videodatachange",this.onVideoDataChange,this);this.listeners.X(r,g.ye("endscreen"),function(L){D.onCueRangeEnter(L)});
this.listeners.X(r,g.aB("endscreen"),function(L){D.onCueRangeExit(L)})},V_c=function(r){var D=r.player.getVideoData();
if(!D||r.W===D.gx&&r.L===D.NJ)return!1;r.W=D.gx;r.L=D.NJ;return!0},Y05=function(r){r=r.Z();
return r.ud&&!r.NJ&&!r.disableOrganicUi},LFx=function(r){r.player.Me("endscreen");
var D=r.player.getVideoData();D=new g.Qe(Math.max((D.lengthSeconds-10)*1E3,0),0x8000000000000,{id:"preload",namespace:"endscreen"});var Y=new g.Qe(0x8000000000000,0x8000000000000,{id:"load",priority:8,namespace:"endscreen"});r.player.a$([D,Y])};
g.JI.prototype.kq=g.Vo(14,function(){return this.app.kq()});
g.UF.prototype.kq=g.Vo(13,function(){return this.getVideoData().WE});
g.pa.prototype.a7=g.Vo(12,function(r){this.yb().a7(r)});
g.Wc.prototype.a7=g.Vo(11,function(r){this.W!==r&&(this.W=r,this.Ig())});
g.iI.prototype.a7=g.Vo(10,function(r){this.overflowButton&&this.overflowButton.a7(r)});
g.pa.prototype.f_=g.Vo(9,function(r){this.yb().f_(r)});
g.kU.prototype.f_=g.Vo(8,function(r){this.T!==r&&(this.T=r,this.Ig())});
g.iI.prototype.f_=g.Vo(7,function(r){this.shareButton&&this.shareButton.f_(r)});
g.pa.prototype.du=g.Vo(6,function(r){this.yb().du(r)});
g.Xx.prototype.du=g.Vo(5,function(r){this.qB!==r&&(this.qB=r,this.Dn())});
g.pa.prototype.yY=g.Vo(4,function(r){this.yb().yY(r)});
g.iI.prototype.yY=g.Vo(3,function(r){this.O_!==r&&(this.O_=r,this.hP())});g.U(Iy,g.Z);Iy.prototype.select=function(){this.C.Ie(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.jy||void 0)&&this.C.logClick(this.element)};
Iy.prototype.onClick=function(r){g.MT(r,this.C,this.W,this.suggestion.sessionData||void 0)&&this.select()};
Iy.prototype.onKeyPress=function(r){switch(r.keyCode){case 13:case 32:r.defaultPrevented||(this.select(),r.preventDefault())}};g.U(xY,g.Z);g.x=xY.prototype;g.x.d9=function(r){this.suggestion!==r&&(this.suggestion=r,Td(this.W,r),this.playButton.updateValue("url",this.suggestion.us()),Bw(this))};
g.x.qR=function(){return this.L>0};
g.x.K2=function(){this.qR()||(this.L=Date.now(),PRa(this),Zpr(this.C,Hpe(this)),g.Fw(this.C.getRootNode(),"countdown-running",this.qR()))};
g.x.vJ=function(){this.Pl();PRa(this);var r=this.W.l$("ytp-autonav-endscreen-upnext-header");r&&g.MF(r,"Up next")};
g.x.Pl=function(){this.qR()&&(this.S.stop(),this.L=0)};
g.x.select=function(r){this.C.nextVideo(!1,r===void 0?!1:r);this.Pl()};
g.x.xY=function(r){g.MT(r,this.C)&&(r.currentTarget===this.playButton.element?this.C.logClick(this.playButton.element):r.currentTarget===this.W.l$("ytp-autonav-endscreen-link-container")&&(r=this.W.l$("ytp-autonav-endscreen-link-container"),this.C.logVisibility(r,!0),this.C.logClick(r)),this.D?(this.C.KP("innertubeCommand",this.D),this.Pl()):this.select())};
g.x.zE=function(){this.C.logClick(this.cancelButton.element);g.lY(this.C,!0);this.cancelCommand&&this.C.KP("innertubeCommand",this.cancelCommand)};
g.x.onVideoDataChange=function(r,D){o6_(this,D);r=D.getWatchNextResponse();var Y,V;r=(Y=Xl_(r))==null?void 0:(V=Y.cancelButton)==null?void 0:V.buttonRenderer;this.cancelCommand=r==null?void 0:r.command};
g.x.zQb=function(r){if(fiq(this)){var D=this.C.getVideoData().watchToWatchTransitionRenderer,Y=D==null?void 0:D.fromColorPaletteDark;D=D==null?void 0:D.toColorPaletteDark;if(Y&&D){var V=this.element;V.style.setProperty("--w2w-start-background-color",g.PU(Y.surgeColor));V.style.setProperty("--w2w-start-primary-text-color",g.PU(Y.primaryTitleColor));V.style.setProperty("--w2w-start-secondary-text-color",g.PU(Y.secondaryTitleColor));V.style.setProperty("--w2w-end-background-color",g.PU(D.surgeColor));
V.style.setProperty("--w2w-end-primary-text-color",g.PU(D.primaryTitleColor));V.style.setProperty("--w2w-end-secondary-text-color",g.PU(D.secondaryTitleColor));V.style.setProperty("--w2w-animation-duration",r+"ms")}g.Fw(this.element,"ytp-w2w-animate",!0)}};
g.x.CB=function(r){this.C.V("web_autonav_color_transition")&&r!==2&&g.Fw(this.element,"ytp-w2w-animate",!1)};
g.x.Sn=function(){var r=this.C.R$();this.N&&this.Pk!==r&&this.fC(r);Bw(this);this.C.logVisibility(this.container.element,r);this.C.logVisibility(this.cancelButton.element,r);this.C.logVisibility(this.W.l$("ytp-autonav-endscreen-link-container"),r);this.C.logVisibility(this.playButton.element,r)};
g.x.Y6=function(r){return r.width<400||r.height<459};g.U(m8,g.Z);g.x=m8.prototype;g.x.create=function(){this.created=!0};
g.x.destroy=function(){this.created=!1};
g.x.qc=function(){return!1};
g.x.R$=function(){return!1};
g.x.bI=function(){return!1};g.U(Gd,g.Z);g.x=Gd.prototype;g.x.H7=function(){this.notification&&(this.S.stop(),this.G4(this.L),this.L=null,this.notification.close(),this.notification=null)};
g.x.d9=function(r){this.suggestion=r;Td(this,r,"hqdefault.jpg")};
g.x.iy=function(){this.fC(this.api.R$());this.api.logVisibility(this.element,this.api.R$());this.api.logVisibility(this.l$("ytp-upnext-autoplay-icon"),this.api.R$());this.cancelButton&&this.api.logVisibility(this.cancelButton.element,this.api.R$())};
g.x.giP=function(){window.focus();this.H7()};
g.x.K2=function(r){var D=this;this.qR()||(g.Ws("a11y-announce","Up Next "+this.suggestion.title),this.T=(0,g.dU)(),this.W=new g.LN(function(){rkW(D,r)},25),rkW(this,r),Zpr(this.api,wlr(this,r)));
g.Wf(this.element,"ytp-upnext-autoplay-paused")};
g.x.hide=function(){g.Z.prototype.hide.call(this)};
g.x.qR=function(){return!!this.W};
g.x.vJ=function(){this.Pl();this.T=(0,g.dU)();rkW(this);g.yO(this.element,"ytp-upnext-autoplay-paused")};
g.x.Pl=function(){this.qR()&&(this.W.dispose(),this.W=null)};
g.x.select=function(r){r=r===void 0?!1:r;if(this.api.Z().V("autonav_notifications")&&r&&window.Notification&&typeof document.hasFocus==="function"){var D=Notification.permission;D==="default"?Notification.requestPermission():D!=="granted"||document.hasFocus()||(this.H7(),this.notification=new Notification("Up Next",{body:this.suggestion.title,icon:this.suggestion.lc()}),this.L=this.X(this.notification,"click",this.giP),this.S.start())}this.Pl();this.api.nextVideo(!1,r)};
g.x.vD=function(r){!g.GE(this.cancelButton.element,r.target)&&g.MT(r,this.api)&&(this.api.R$()&&this.api.logClick(this.l$("ytp-upnext-autoplay-icon")),this.select())};
g.x.m_=function(){this.api.R$()&&this.cancelButton&&this.api.logClick(this.cancelButton.element);g.lY(this.api,!0)};
g.x.Tev=function(r){this.api.getPresentingPlayerType();this.show();this.K2(r)};
g.x.L3$=function(){this.api.getPresentingPlayerType();this.Pl();this.hide()};
g.x.F2=function(){this.Pl();this.H7();g.Z.prototype.F2.call(this)};g.U(Mv,m8);g.x=Mv.prototype;g.x.create=function(){m8.prototype.create.call(this);this.S.X(this.player,"appresize",this.Hx);this.S.X(this.player,"onVideoAreaChange",this.Hx);this.S.X(this.player,"videodatachange",this.onVideoDataChange);this.S.X(this.player,"autonavchange",this.Pn);this.S.X(this.player,"onAutonavCancelled",this.eA);this.onVideoDataChange()};
g.x.show=function(){m8.prototype.show.call(this);(this.N||this.L&&this.L!==this.videoData.clientPlaybackNonce)&&g.lY(this.player,!1);g.vV(this.player)&&this.qc()&&!this.L?(jY(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3?this.W.select(!0):this.W.K2():this.videoData.autonavState===3&&this.W.vJ()):(g.lY(this.player,!0),jY(this));this.Hx()};
g.x.hide=function(){m8.prototype.hide.call(this);this.W.vJ();jY(this)};
g.x.Hx=function(){var r=this.player.nG(!0,this.player.isFullscreen());jY(this);Bw(this.T);g.Fw(this.element,"ytp-autonav-cancelled-small-mode",this.Y6(r));g.Fw(this.element,"ytp-autonav-cancelled-tiny-mode",this.xT(r));g.Fw(this.element,"ytp-autonav-cancelled-mini-mode",r.width<=400||r.height<=360);this.overlay&&g.Uf(this.overlay.element,{width:r.width+"px"});if(!this.D)for(r=0;r<this.videos.length;r++)g.Fw(this.videos[r].element,"ytp-suggestion-card-with-margin",r%2===1)};
g.x.onVideoDataChange=function(){var r=this.player.getVideoData();if(this.videoData!==r&&r){this.videoData=r;if((r=this.videoData.suggestions)&&r.length||this.player.V("web_player_autonav_empty_suggestions_fix")){var D=g.TB(this.videoData);D&&(this.W.d9(D),this.W!==this.T&&this.T.d9(D))}if(r&&r.length)for(D=0;D<IvM.length;++D){var Y=IvM[D];if(r&&r[Y]){this.videos[D]=new Iy(this.player);var V=this.videos[D];Y=r[Y];V.suggestion!==Y&&(V.suggestion=Y,Td(V,Y));g.v(this,this.videos[D]);this.videos[D].CP(this.K.element)}}this.Hx()}};
g.x.Pn=function(r){r===1?(this.N=!1,this.L=this.videoData.clientPlaybackNonce,this.W.Pl(),this.Pk&&this.Hx()):(this.N=!0,this.R$()&&(r===2?this.W.K2():r===3&&this.W.vJ()))};
g.x.eA=function(r){r?this.Pn(1):(this.L=null,this.N=!1)};
g.x.qc=function(){return this.videoData.autonavState!==1};
g.x.Y6=function(r){return(r.width<910||r.height<459)&&!this.xT(r)&&!(r.width<=400||r.height<=360)};
g.x.xT=function(r){return r.width<800&&!(r.width<=400||r.height<=360)};
g.x.R$=function(){return this.Pk&&g.vV(this.player)&&this.qc()&&!this.L};
var IvM=[1,3,2,4];g.U(QM,g.Z);g.x=QM.prototype;g.x.a4=function(){switch(this.buttonType){case 1:var r="Watch again on YouTube";var D=156915;break;case 2:r="Continue watching on YouTube";D=156942;break;default:r="Continue watching on YouTube",D=156942}this.update({content:r});this.C.hasVe(this.element)&&this.C.destroyVe(this.element);this.C.createClientVe(this.element,this,D)};
g.x.onClick=function(r){this.C.V("web_player_log_click_before_generating_ve_conversion_params")&&this.C.logClick(this.element);g.jR(this.getVideoUrl(),this.C,r);this.C.V("web_player_log_click_before_generating_ve_conversion_params")||this.C.logClick(this.element)};
g.x.getVideoUrl=function(){var r=!0;switch(this.buttonType){case 1:r=!0;break;case 2:r=!1}r=this.C.getVideoUrl(r,!1,!1,!0);var D=this.C.Z();if(g.Ek(D)){var Y={};g.Ek(D)&&g.aO(this.C,"addEmbedsConversionTrackingParams",[Y]);r=g.Hl(r,Y)}return r};
g.x.logVisibility=function(){this.C.logVisibility(this.element,this.Pk&&this.j)};
g.x.show=function(){g.Z.prototype.show.call(this);this.logVisibility()};
g.x.hide=function(){g.Z.prototype.hide.call(this);this.logVisibility()};
g.x.b8=function(r){g.Z.prototype.b8.call(this,r);this.logVisibility()};g.U(sl,m8);sl.prototype.show=function(){this.player.getPlayerState()!==3&&(m8.prototype.show.call(this),this.W.yY(!0),this.W.f_(!0),this.C.Z().pX||this.W.a7(!0),this.C.logVisibility(this.element,!0),this.watchButton.b8(!0))};
sl.prototype.hide=function(){m8.prototype.hide.call(this);this.W.yY(!1);this.W.f_(!1);this.W.a7(!1);this.C.logVisibility(this.element,!1);this.watchButton.b8(!1)};g.U(DZR,m8);DZR.prototype.Ig=function(){var r=this.player.getVideoData();this.W.update({profilePicture:r.profilePicture,author:r.author});this.subscribeButton.channelId=r.tA;var D=this.subscribeButton;r.subscribed?D.W():D.T()};g.U(yM,g.Z);yM.prototype.select=function(){this.api.Ie(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.jy||void 0)&&this.api.logClick(this.element)};
yM.prototype.onClick=function(r){if(g.Ek(this.api.Z())&&this.api.V("web_player_log_click_before_generating_ve_conversion_params")){this.api.logClick(this.element);var D=this.suggestion.us(),Y={};g.z4(this.api,Y);D=g.Hl(D,Y);g.jR(D,this.api,r)}else g.MT(r,this.api,this.T,this.suggestion.sessionData||void 0)&&this.select()};
yM.prototype.onKeyPress=function(r){switch(r.keyCode){case 13:case 32:r.defaultPrevented||(this.select(),r.preventDefault())}};
yM.prototype.onVideoDataChange=function(){var r=this.api.getVideoData(),D=this.api.Z();this.T=r.Jj?!1:D.S};g.U(ay,m8);g.x=ay.prototype;g.x.create=function(){m8.prototype.create.call(this);var r=this.player.getVideoData();r&&(this.videoData=r);this.IS();this.T.X(this.player,"appresize",this.IS);this.T.X(this.player,"onVideoAreaChange",this.IS);this.T.X(this.player,"videodatachange",this.onVideoDataChange);this.T.X(this.player,"autonavchange",this.UO);this.T.X(this.player,"onAutonavCancelled",this.Dl);r=this.videoData.autonavState;r!==this.Y&&this.UO(r);this.T.X(this.element,"transitionend",this.MCv)};
g.x.destroy=function(){g.Nj(this.T);g.Ga(this.stills);this.stills=[];m8.prototype.destroy.call(this);g.Wf(this.element,"ytp-show-tiles");this.N.stop();this.Y=this.videoData.autonavState};
g.x.qc=function(){return this.videoData.autonavState!==1};
g.x.show=function(){var r=this.Pk;m8.prototype.show.call(this);g.Wf(this.element,"ytp-show-tiles");this.player.Z().T?g.Ix(this.N):this.N.start();(this.D||this.S&&this.S!==this.videoData.clientPlaybackNonce)&&g.lY(this.player,!1);Ww(this)?(Ul(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3?this.W.select(!0):this.W.K2():this.videoData.autonavState===3&&this.W.vJ()):(g.lY(this.player,!0),Ul(this));r!==this.Pk&&this.player.logVisibility(this.element,!0)};
g.x.hide=function(){var r=this.Pk;m8.prototype.hide.call(this);this.W.vJ();Ul(this);r!==this.Pk&&this.player.logVisibility(this.element,!1)};
g.x.MCv=function(r){r.target===this.element&&this.IS()};
g.x.IS=function(){var r,D,Y,V;var L=((r=this.videoData)==null?0:(D=r.suggestions)==null?0:D.length)?(Y=this.videoData)==null?void 0:Y.suggestions:[(V=this.videoData)==null?void 0:g.TB(V)];if(L.length){g.yO(this.element,"ytp-endscreen-paginate");var T=this.C.nG(!0,this.C.isFullscreen());if(r=g.qI(this.C))r=r.NI()?48:32,T.width-=r*2;var I=T.width/T.height;V=96/54;D=r=2;var B=Math.max(T.width/96,2),m=Math.max(T.height/54,2);Y=L.length;var G=Y*4;for(G-=4;G>0&&(r<B||D<m);){var M=r/2,Q=D/2,y=r<=B-2&&G>=
Q*4,a=D<=m-2&&G>=M*4;if((M+1)/Q*V/I>I/(M/(Q+1)*V)&&a)G-=M*4,D+=2;else if(y)G-=Q*4,r+=2;else if(a)G-=M*4,D+=2;else break}V=!1;G>=12&&Y*4-G<=6&&(D>=4||r>=4)&&(V=!0);G=r*96;B=D*54;I=G/B<I?T.height/B:T.width/G;I=Math.min(I,2);G=Math.floor(Math.min(T.width,G*I));B=Math.floor(Math.min(T.height,B*I));T=this.table.element;T.ariaLive="polite";g.K6(T,G,B);g.Uf(T,{marginLeft:G/-2+"px",marginTop:B/-2+"px"});this.W.d9(g.TB(this.videoData));this.W instanceof xY&&Bw(this.W);g.Fw(this.element,"ytp-endscreen-takeover",
Ww(this));Ul(this);G+=4;B+=4;I=0;T.ariaBusy="true";for(m=0;m<r;m++)for(M=0;M<D;M++)if(Q=I,a=0,V&&m>=r-2&&M>=D-2?a=1:M%2===0&&m%2===0&&(M<2&&m<2?M===0&&m===0&&(a=2):a=2),Q=g.a8(Q+this.L,Y),a!==0){y=this.stills[I];y||(y=new yM(this.player),this.stills[I]=y,T.appendChild(y.element));var W=Math.floor(B*M/D),q=Math.floor(G*m/r),A=Math.floor(B*(M+a)/D)-W-4,p=Math.floor(G*(m+a)/r)-q-4;g.$O(y.element,q,W);g.K6(y.element,p,A);g.Uf(y.element,"transitionDelay",(M+m)/20+"s");g.Fw(y.element,"ytp-videowall-still-mini",
a===1);g.Fw(y.element,"ytp-videowall-still-large",a>2);a=Math.max(p,A);g.Fw(y.element,"ytp-videowall-still-round-large",a>=256);g.Fw(y.element,"ytp-videowall-still-round-medium",a>96&&a<256);g.Fw(y.element,"ytp-videowall-still-round-small",a<=96);Q=L[Q];y.suggestion!==Q&&(y.suggestion=Q,a=y.api.Z(),W=g.s3(y.element,"ytp-videowall-still-large")?"hqdefault.jpg":"mqdefault.jpg",Td(y,Q,W),g.Ek(a)&&!y.api.V("web_player_log_click_before_generating_ve_conversion_params")&&(a=Q.us(),W={},g.aO(y.api,"addEmbedsConversionTrackingParams",
[W]),a=g.Hl(a,W),y.updateValue("url",a)),(Q=(Q=Q.sessionData)&&Q.itct)&&y.api.setTrackingParams(y.element,Q));I++}T.ariaBusy="false";g.Fw(this.element,"ytp-endscreen-paginate",I<Y);for(L=this.stills.length-1;L>=I;L--)r=this.stills[L],g.mJ(r.element),g.mS(r);this.stills.length=I}};
g.x.onVideoDataChange=function(){var r=this.player.getVideoData(1);this.videoData!==r&&(r!=null&&g.TB(r)?(this.L=0,this.videoData=r,this.IS()):this.player.Wo("missg",{vid:(r==null?void 0:r.videoId)||"",cpn:(r==null?void 0:r.clientPlaybackNonce)||""}))};
g.x.jA=function(){this.L+=this.stills.length;this.IS()};
g.x.r6=function(){this.L-=this.stills.length;this.IS()};
g.x.bI=function(){return this.W.qR()};
g.x.UO=function(r){r===1?(this.D=!1,this.S=this.videoData.clientPlaybackNonce,this.W.Pl(),this.Pk&&this.IS()):(this.D=!0,this.Pk&&Ww(this)&&(r===2?this.W.K2():r===3&&this.W.vJ()))};
g.x.Dl=function(r){if(r){for(r=0;r<this.stills.length;r++)this.C.logVisibility(this.stills[r].element,!0);this.UO(1)}else this.S=null,this.D=!1;this.IS()};
g.x.R$=function(){return this.Pk&&Ww(this)};g.U(F0,m8);F0.prototype.hasSuggestions=function(){var r;return(r=this.W)==null?void 0:r.hasSuggestions()};
F0.prototype.show=function(){if(this.player.getPlayerState()!==3){m8.prototype.show.call(this);var r=this.T;if(r){var D=this.W.hasSuggestions();g.Fw(this.element,"ytp-shorts-branded-ui",D);D?r.show():r.hide()}var Y;(Y=g.qI(this.player))==null||Y.du(!0);this.player.logVisibility(this.element,!0);this.watchButton.b8(!0)}};
F0.prototype.hide=function(){m8.prototype.hide.call(this);var r;(r=g.qI(this.player))==null||r.du(!1);this.player.logVisibility(this.element,!1);this.watchButton.b8(!1)};g.U(Tte,g.uF);g.x=Tte.prototype;g.x.C4=function(){var r=this.player.getVideoData(),D=r.mutedAutoplay&&(r.limitedPlaybackDurationInSeconds>0||r.endSeconds>0||r.mutedAutoplayDurationMode!==2);if((this.player.isEmbedsShortsMode()||this.T)&&!D)return!0;var Y;var V=!!((r==null?0:g.TB(r))||(r==null?0:(Y=r.suggestions)==null?0:Y.length));V=!Y05(this.player)||V;r=r.aV;Y=this.player.Ow();return V&&!r&&!Y&&!D};
g.x.R$=function(){return this.endScreen.R$()};
g.x.LeD=function(){return this.R$()?this.endScreen.bI():!1};
g.x.F2=function(){this.player.Me("endscreen");g.uF.prototype.F2.call(this)};
g.x.load=function(){var r=this.player.getVideoData();var D=r.transitionEndpointAtEndOfStream;if(D&&D.videoId){var Y=this.player.FM().cX.get("heartbeat"),V=g.TB(r);!V||D.videoId!==V.videoId||r.Be?(this.player.Ie(D.videoId,void 0,void 0,!0,!0,D),Y&&Y.ya("HEARTBEAT_ACTION_TRIGGER_AT_STREAM_END","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT"),r=!0):r=!1}else r=!1;r||(g.uF.prototype.load.call(this),this.endScreen.show())};
g.x.unload=function(){g.uF.prototype.unload.call(this);this.endScreen.hide();this.endScreen.destroy()};
g.x.onCueRangeEnter=function(r){this.C4()&&(this.endScreen.created||this.endScreen.create(),r.getId()==="load"&&this.load())};
g.x.onCueRangeExit=function(r){r.getId()==="load"&&this.loaded&&this.unload()};
g.x.onVideoDataChange=function(){LFx(this);this.S&&V_c(this)&&(this.endScreen&&(this.endScreen.hide(),this.endScreen.created&&this.endScreen.destroy(),this.endScreen.dispose()),this.W?this.endScreen=new Mv(this.player):this.endScreen=new ay(this.player),g.v(this,this.endScreen),g.NI(this.player,this.endScreen.element,4))};g.Fx("endscreen",Tte);})(_yt_player);
