(function(g){var window=this;'use strict';var lPR=function(r,D,Y){g.E(function(V){r.W=g.EA(D,Y);g.uf(V)})},Bq=function(r){r.isActive()||r.start()},EHM=function(r,D){return D?r.captionsInitialState:"CAPTIONS_INITIAL_STATE_UNKNOWN"},ReM=function(r){return g.YA(r)||r.V("web_enable_caption_language_preference_stickiness")},zeq=function(r,D){var Y=new g.Ft;
Y.languageCode=r.languageCode;Y.languageName=r.languageName;Y.name=r.name;Y.displayName=r.displayName;Y.kind=r.kind;Y.isDefault=!1;Y.W=r.W;Y.isTranslateable=r.isTranslateable;Y.vssId=r.vssId;Y.url=r.url;Y.translationLanguage=D;r.xtags&&(Y.xtags=r.xtags);r.captionId&&(Y.captionId=r.captionId);return Y},dEc=function(r,D){var Y,V,L;
return g.E(function(T){if(T.W==1)return Y=r+"|"+D,g.K(T,g.Bh(),2);if(T.W!=3){V=T.T;if(!V)throw g.Jc("gct");return g.K(T,g.dm(V),3)}L=T.T;return T.return(L.get("captions",Y))})},SPr=function(r,D,Y){dEc(r,D).then(function(V){V&&Y(V.trackData,new g.Ft(V.metadata))})},bBq=function(r){if(!NIW.test(r))throw Error("'"+r+"' is not a valid hex color");
r.length==4&&(r=r.replace(vHa,"#$1$1$2$2$3$3"));r=r.toLowerCase();r=parseInt(r.slice(1),16);return[r>>16,r>>8&255,r&255]},eeR=function(){var r=void 0;
r=r===void 0?{}:r;var D="suggest_correction"in g.Gyr?g.Gyr.suggest_correction:"Edit caption";D=D||"";var Y={},V;for(V in r){Y={Im:Y.Im};Y.Im=V;var L=function(T){return function(){return String(r[T.Im])}}(Y);
D=D.replace(new RegExp("\\$\\{"+Y.Im+"\\}","gi"),L);D=D.replace(new RegExp("\\$"+Y.Im,"gi"),L)}return D},cUa=function(){return g.CK("yt-player-caption-display-settings")},mC=function(){this.segments=[]},Cu_=function(r,D){var Y=g.BR(r.segments,D);
Y>=0||Y<0&&(-Y-1)%2===1||(Y=-Y-1,Y>0&&D-r.segments[Y-1]===1&&Y<r.segments.length&&r.segments[Y]-D===1?(g.fr(r.segments,Y),g.fr(r.segments,Y-1)):Y>0&&D-r.segments[Y-1]===1?r.segments[Y-1]=D:Y<r.segments.length&&r.segments[Y]-D===1?r.segments[Y]=D:(g.IJ(r.segments,Y,0,D),g.IJ(r.segments,Y+1,0,D)))},ZBW=function(r,D,Y,V,L,T){g.N.call(this);
this.policy=r;this.player=D;this.Tv=Y;this.K=V;this.j=L;this.Y=T;this.S=new mC;this.D=-1;this.L=this.T=this.W=null;this.LP=0;this.N=new g.LN(this.Tk,1E3,this);this.events=new g.Cc(this);g.v(this,this.N);g.v(this,this.events);this.events.X(D,"SEEK_COMPLETE",this.U5);this.U5();this.Tk()},XJe=function(r){return r.W&&r.W.D?r.W.D+r.player.aX()<r.player.getCurrentTime():!1},oHS=function(r,D){if(r.policy.Gz&&r.player.Bd()){var Y=g.Pd(D,r.policy,{});
Y.set("pot",r.player.Bd());Y=Y.HY()}else Y=g.Pd(D,r.policy,{}).HY();var V={format:"RAW",withCredentials:!0};if(r.policy.rT){V.method="POST";var L=D.S;L&&Object.keys(L).length>0?V.postBody=g.sB(L,g.IA):V.postBody=(0,g.pz)([120,0])}r.j&&(V.responseType="arraybuffer");var T=++r.LP,I=(0,g.dU)();r.L=g.S1(Y,V,3,100).then(function(B){if(r.policy.jO&&T%100===1){var m=(0,g.dU)();r.player.Wo("caprsp",{rn:T,ms:m-I,kb:(B.xhr.responseText.length/1024).toFixed()})}a:{B=B.xhr;r.DQ();if(r.T){var G=!(r.j?B.response:
B.responseText)||B.status>=400;if(m=g.RYE(B)){B=g.Pd(r.T,r.policy,{});r.T.Dm(B,m);oHS(r,r.T);break a}G?r.player.Wo("capfail",{status:B.status}):(r.player.L3().z1("fcb_r"),m=r.T.ZQ[0].jD,r.K!=null&&r.D!==m&&(G=r.T.ZQ[0],r.j?r.K(B.response,(G.startTime+r.player.aX())*1E3):r.K(B.responseText,(G.startTime+r.player.aX())*1E3),r.D=m))}r.T=null;r.L=null}}).k_(function(B){r.T=null;
r.L=null;var m;r.player.Wo("capfail",{rn:T,status:(m=B.xhr)==null?void 0:m.status})});
r.T=D;Cu_(r.S,r.T.ZQ[0].jD)},GV=function(r,D){g.k5.call(this,D);
this.W=r;this.C=D;this.L=null;this.D=!1;this.logger=new g.G7("caps");this.N=g.EM(this.C.Z())&&!this.W.isManifestless},nHq=function(r,D){var Y=[],V;
for(V in r.W.W)if(r.W.W.hasOwnProperty(V)){var L=r.W.W[V];if(g.$5(L,D||null)){var T=L.info.id,I=T,B="."+T,m="",G="";if(L=L.info.captionTrack)T=L.languageCode,I=L.displayName,B=L.vssId,m=L.kind,G=L.id;else{L=T;var M=g.E7R.get(L);M==null&&(M=PuR[L]||PuR[L.replace(/-/g,"_")],g.E7R.set(L,M));L=M;I=L||I}Y.push(new g.Ft({id:V,languageCode:T,languageName:I,is_servable:!0,is_default:!0,is_translateable:!1,vss_id:B,kind:m,captionId:G}))}}return Y},HB_=function(r,D){return D!=null&&D in r.W.W?r.W.W[D]:null},
fPr=function(r,D,Y){var V=[],L;
for(L in r.W.W)if(r.W.W.hasOwnProperty(L)){var T=r.W.W[L];if(g.$5(T,Y||null)){var I=T.info.captionTrack;I&&I.languageCode===D&&V.push(T)}}return V.length?V[0]:null},Mz=function(r,D,Y,V,L,T,I,B,m,G){var M=G.isInline()&&!0,Q={};
Object.assign(Q,D);Object.assign(Q,r.params);Object.assign(Q,Y);var y={};Object.assign(y,D.tj);r.params.tj&&Object.assign(y,r.params.tj);Object.assign(y,Y.tj);M&&(Q.windowOpacity=.6,y.backgroundOpacity=0);Q.tj=y;var a=Q.uH===1,W=[{G:"span",U:"captions-text",J:{style:"word-wrap: normal; display: block;"}}],q,A,p;(B=B.X2("caption_edit_on_hover")&&((q=G.getVideoData().getPlayerResponse())==null?void 0:(A=q.captions)==null?void 0:(p=A.playerCaptionsTracklistRenderer)==null?void 0:p.openTranscriptCommand))&&
W.unshift({G:"button",U:"caption-edit",J:{tabindex:"0","aria-label":eeR()},B:[{G:"svg",J:{fill:"#e3e3e3",height:"100%",viewBox:"5 5 38 38",width:"100%"},B:[{G:"path",J:{d:"M9 39h2.2l24.25-24.25-1.1-1.1-1.1-1.1L9 36.8Zm-3 3v-6.4L35.4 6.2q.85-.85 2.12-.82 1.27.02 2.12.87L41.8 8.4q.85.85.85 2.1t-.85 2.1L12.4 42Zm33.5-31.55L37.45 8.4Zm-4.05 4.3-1.1-1.1-1.1-1.1 2.2 2.2Z"}}]}]});g.Z.call(this,{G:"div",U:"caption-window",J:{id:"caption-window-"+r.id,dir:a?"rtl":"ltr",tabindex:"0",lang:Q.lang},B:W});var t=
this;this.N=[];this.Gv=!1;this.T=r;this.eD=this.rT=null;this.playerWidth=T;this.playerHeight=I;this.K=null;this.maxWidth=T*.96;this.maxHeight=I*.96;this.W=Q;this.Jp=Y;this.LP=D;this.S=this.l$("captions-text");this.u8=this.S.style.getPropertyValue("box-decoration-break")!==""||this.S.style.getPropertyValue("-webkit-box-decoration-break")!=="";this.u$=wJq(V,L,T,I);this.Bk=m;B&&(this.D=this.l$("caption-edit"),this.X(this.D,"click",function(){t.Bk()}));
this.type=0;this.OI=this.u$*rFr(y);this.l8=M;r=new g.ZF(this.element,!0);g.v(this,r);r.subscribe("dragstart",this.g6,this);r.subscribe("dragmove",this.lj,this);r.subscribe("dragend",this.PD,this);this.JT=this.kz=this.T5=this.Bo=0;r="";this.W.windowOpacity&&(r=bBq(this.W.windowColor),r="rgba("+r[0]+","+r[1]+","+r[2]+","+this.W.windowOpacity+")");D={"background-color":r,display:this.W.isVisible===!1?"none":"","text-align":DFq[this.W.textAlign]};this.u8&&(D["border-radius"]=r?this.OI/8+"px":"");(this.L=
this.T.params.uH===2||this.T.params.uH===3)&&YYT(this,this.element);g.Uf(this.element,D);if(M){var l;(l=this.element.parentElement)==null||l.style.setProperty("--caption-window-color",r)}switch(this.W.wg){case 0:case 1:case 2:g.yO(this.element,"ytp-caption-window-top");break;case 6:case 7:case 8:g.yO(this.element,"ytp-caption-window-bottom")}},YYT=function(r,D){var Y="vertical-rl";
r.W.vz===1&&(Y="vertical-lr");g.gZ&&(Y=Y==="vertical-lr"?"tb-lr":"tb-rl");g.Uf(D,"-o-writing-mode",Y);g.Uf(D,"-webkit-writing-mode",Y);g.Uf(D,"writing-mode",Y);g.Uf(D,"text-orientation","upright");g.yO(D,"ytp-vertical-caption");r.T.params.uH===3&&(g.Uf(D,"text-orientation",""),g.Uf(D,"transform","rotate(180deg)"))},rFr=function(r){var D=1+.25*(r.fontSizeIncrement||0);
if(r.offset===0||r.offset===2)D*=.8;return D},Vua=function(r,D){var Y={},V=D.background?D.background:r.W.tj.background;
if(D.backgroundOpacity!=null||D.background){var L=D.backgroundOpacity!=null?D.backgroundOpacity:r.W.tj.backgroundOpacity;V=bBq(V);Y.background="rgba("+V[0]+","+V[1]+","+V[2]+","+L+")";r.u8&&(Y["box-decoration-break"]="clone",Y["border-radius"]=r.OI/8+"px")}if(D.fontSizeIncrement!=null||D.offset!=null)Y["font-size"]=r.u$*rFr(D)+"px";V=1;L=D.color||r.W.tj.color;if(D.color||D.textOpacity!=null)L=bBq(L),V=D.textOpacity==null?r.W.tj.textOpacity:D.textOpacity,L="rgba("+L[0]+","+L[1]+","+L[2]+","+V+")",
Y.color=L,Y.fill=L;var T=D.charEdgeStyle;T===0&&(T=void 0);if(T){L="rgba(34, 34, 34, "+V+")";var I="rgba(204, 204, 204, "+V+")";D.F8&&(I=L=D.F8);var B=r.u$/16/2,m=Math.max(B,1),G=Math.max(2*B,1),M=Math.max(3*B,1),Q=Math.max(5*B,1);V=[];switch(T){case 4:for(;M<=Q;M+=B)V.push(G+"px "+G+"px "+M+"px "+L);break;case 1:G=window.devicePixelRatio>=2?.5:1;for(T=m;T<=M;T+=G)V.push(T+"px "+T+"px "+L);break;case 2:V.push(m+"px "+m+"px "+I);V.push("-"+m+"px -"+m+"px "+L);break;case 3:for(M=0;M<5;M++)V.push("0 0 "+
G+"px "+L)}Y["text-shadow"]=V.join(", ")}L="";switch(D.fontFamily){case 1:L='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace';break;case 2:L='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif';break;case 3:L='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace';break;case 5:L='"Comic Sans MS", Impact, Handlee, fantasy';break;case 6:L='"Monotype Corsiva", "URW Chancery L", "Apple Chancery", "Dancing Script", cursive';break;case 7:L=g.wX()?
'"Carrois Gothic SC", sans-serif-smallcaps':'Arial, Helvetica, Verdana, "Marcellus SC", sans-serif';break;case 0:case 4:L='"YouTube Noto", Roboto, Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}L&&(Y["font-family"]=L);L=D.offset;L==null&&(L=r.W.tj.offset);switch(L){case 0:Y["vertical-align"]="sub";break;case 2:Y["vertical-align"]="super"}D.fontFamily===7&&(Y["font-variant"]="small-caps");D.bold&&(Y["font-weight"]="bold");D.italic&&(Y["font-style"]="italic");D.underline&&(Y["text-decoration"]=
"underline");D.ZP_&&(Y.visibility="hidden");D.W5===1&&r.L&&(Y["text-combine-upright"]="all",Y["text-orientation"]="mixed",L=g.Tp||g.tc,r.T.params.uH===3?Y.transform=L?"rotate(90deg)":"rotate(180deg)":L&&(Y.transform="rotate(-90deg)"));if(D.j4===1||D.j4===2||D.j4===3||D.j4===4||D.j4===5)if(g.Tp)Y["font-weight"]="bold";else switch(Y["text-emphasis-style"]="filled circle",Y["text-emphasis-color"]="currentcolor",Y["webkit-text-emphasis"]="filled circle",D.j4){case 4:case 3:Y["text-emphasis-position"]=
"under left";Y["webkit-text-emphasis-position"]="under left";break;case 5:case 2:Y["text-emphasis-position"]="over right",Y["webkit-text-emphasis-position"]="over right"}return Y},jd=function(r){r=r.split("px");
return r.length>0?(r=Number(r[0]))?r:0:0},LJr=function(r){r.K=g.Li("SPAN");
g.Uf(r.K,{display:"block"});g.yO(r.K,"caption-visual-line");r.S.appendChild(r.K)},Tce=function(r,D){var Y=g.Li("SPAN");
g.Uf(Y,{display:"inline-block","white-space":"pre-wrap"});g.Uf(Y,Vua(r,D));Y.classList.add("ytp-caption-segment");r.K.appendChild(Y);Y.previousElementSibling&&(g.Uf(Y.previousElementSibling,{"border-top-right-radius":"0","border-bottom-right-radius":"0"}),g.Uf(Y,{"border-top-left-radius":"0","border-bottom-left-radius":"0"}));return Y},IV_=function(r,D,Y){r.Gv=r.Gv||!!Y;
var V={};Object.assign(V,r.W.tj);Object.assign(V,Y||D.W);Object.assign(V,r.Jp.tj);(Y=!r.K)&&LJr(r);for(var L=r.rT&&r.eD&&g.R8(V,r.eD)?r.rT:Tce(r,V),T=typeof D.text==="string",I=T?D.text.split("\n"):[D.text],B=0;B<I.length;B++){var m=B>0||!D.append,G=I[B];m&&!Y?(LJr(r),L=Tce(r,V)):m&&Y&&(Y=!1);G&&(L.appendChild(T?g.TE(G):G),T||G.tagName!=="RUBY"||G.childElementCount!==4||g.Tp||!g.uc(G.children[2],"text-emphasis")||(m=r.L?"padding-right":"padding-top",g.uc(G.children[2],"text-emphasis-position")&&(m=
r.L?"padding-left":"padding-bottom"),g.rc?g.Uf(L,m,"1em"):g.Uf(L,m,"0.5em")))}r.eD=V;r.rT=L;r.N.push(D)},wJq=function(r,D,Y,V){var L=D/360*16;
D>=r&&(r=640,V>Y*1.3&&(r=480),L=Y/r*16);return L},Bc0=function(){this.L=this.time=this.mode=this.T=0;
this.S=new xFq(this);this.j=new xFq(this);this.W=[];this.clear()},GEc=function(r,D,Y){if(r===255&&D===255||!r&&!D)return{rp:r,
yQ:D,result:0};r=mFT[r];D=mFT[D];if(r&128){var V;if(V=!(D&128))V=D,V=Y.u9()&&Y.yQ===V;if(V)return{rp:r,yQ:D,result:1}}else if(D&128&&1<=r&&r<=31)return{rp:r,yQ:D,result:2};return{rp:r,yQ:D,result:3}},jGS=function(r,D,Y,V){D===255&&Y===255||!D&&!Y?(++r.L===45&&r.reset(),r.S.T.clear(),r.j.T.clear()):(r.L=0,MuR(r.S,D,Y,V))},QGS=function(r,D){r.W.sort(function(L,T){var I=L.time-T.time;
return I===0?L.order-T.order:I});
for(var Y=g.F(r.W),V=Y.next();!V.done;V=Y.next())V=V.value,r.time=V.time,V.type===0?jGS(r,V.Ni,V.Oo,D):V.type===1&&r.T&496&&MuR(r.j,V.Ni,V.Oo,D);r.W.length=0},QP=function(){this.type=0},sJ=function(){this.state=this.yQ=this.rp=0},sGe=function(){this.timestamp=this.W=0},yP=function(r){this.j=r;
this.L=[];this.W=this.T=this.row=0;this.style=new QP;for(r=this.S=0;r<=15;r++){this.L[r]=[];for(var D=0;D<=32;D++)this.L[r][D]=new sGe}},al=function(r,D){if(r.style.type===3){for(var Y=0,V=0,L=r.j.time+0,T="",I="",B=L,m=1;m<=15;++m){for(var G=!1,M=V?V:1;M<=32;++M){var Q=r.L[m][M];
if(Q.W!==0){Y===0&&(Y=m,V=M);G=String.fromCharCode(Q.W);var y=Q.timestamp;y<L&&(L=y);Q.timestamp=B;I&&(T+=I,I="");T+=G;G=!0}if((Q.W===0||M===32)&&G){I="\n";break}else if(V&&!G)break}if(Y&&!G)break}T&&D.S(Y,V,L,B,T)}else for(V=Y=0,T=L=r.j.time+0,I=1;I<=15;++I)for(B="",m=1;m<=32;++m)if(M=r.L[I][m],Q=M.W,Q!==0&&(Y===0&&(Y=I,V=m),G=String.fromCharCode(Q),y=M.timestamp,y<=L&&(L=y),B+=G,M.reset()),m===32||Q===0)B&&D.S(Y,V,L,T,B),L=T,B="",V=Y=0},FJ_=function(r,D){switch(r){case 0:return yFS[(D&127)-32];
case 1:return aVr[D&15];case 2:return WJS[D&31];case 3:return UFM[D&31]}return 0},Wq=function(r){return r.L[r.row][r.T]},UJ=function(r,D,Y){D>=2&&r.T>1&&(--r.T,Wq(r).W=0);
var V=Wq(r);V.timestamp=r.j.time+0;V.W=FJ_(D,Y);r.T<32&&r.T++},udS=function(r,D,Y,V){for(var L=0;L<V;L++)for(var T=0;T<=32;T++){var I=r.L[D+L][T],B=r.L[Y+L][T];
I.W=B.W;I.timestamp=B.timestamp}},FW=function(r,D,Y){for(var V=0;V<Y;V++)for(var L=0;L<=32;L++)r.L[D+V][L].reset()},qYS=function(r){r.row=r.W>0?r.W:1;
r.T=1;FW(r,0,15)},kEe=function(r){this.L=r;
this.j=0;this.style=new QP;this.D=new yP(this.L);this.N=new yP(this.L);this.text=new yP(this.L);this.T=this.D;this.S=this.N;this.W=this.T},gtW=function(r,D,Y){var V=r.T,L=!1;
switch(r.style.get()){case 4:case 1:case 2:r.style.get()===4&&V.W>0||(al(V,Y),qYS(r.T),qYS(r.S),V.row=15,V.W=D,L=!0)}r.style.set(3);r.W=V;r.W.style=r.style;r.L.mode=1<<V.S;L?V.T=1:V.W!==D&&(V.W>D?(al(V,Y),FW(V,V.row-V.W,D)):V.row<D&&(D=V.W),V.W=D)},$Fc=function(r){r.style.set(1);
r.W=r.S;r.W.W=0;r.W.style=r.style;r.L.mode=1<<r.W.S},AFS=function(r){r.style.set(4);
r.W=r.text;r.W.style=r.style;r.L.mode=1<<r.W.S},xFq=function(r){this.W=r;
this.j=0;this.L=new kEe(this.W);this.D=new kEe(this.W);this.T=new sJ;this.S=this.L},MuR=function(r,D,Y,V){r.T.update();
D=GEc(D,Y,r.T);switch(D.result){case 0:return;case 1:case 2:return}var L=D.rp;Y=D.yQ;if(32<=L||!L)r.W.mode&r.W.T&&(D=L,D&128&&(D=127),Y&128&&(Y=127),r=r.S.W,D&96&&UJ(r,0,D),Y&96&&UJ(r,0,Y),D!==0&&Y!==0&&r.style.type===3&&al(r,V));else if(L&16)a:if(!r.T.matches(L,Y)&&(D=r.T,D.rp=L,D.yQ=Y,D.state=2,D=L&8?r.D:r.L,r.S=D,r.W.mode=1<<(r.j<<2)+(D.j<<1)+(D.style.type===4?1:0),(r.W.mode|1<<(r.j<<2)+(D.j<<1)+(D.style.type!==4?1:0))&r.W.T))if(Y&64){V=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(L&7)<<1|Y>>5&1];
r=Y&16?((Y&14)>>1)*4:0;Y=D.W;switch(D.style.get()){case 4:V=Y.row;break;case 3:if(V!==Y.row){if(V<Y.W&&(V=Y.W,V===Y.row))break;var T=1+Y.row-Y.W,I=1+V-Y.W;udS(Y,I,T,Y.W);D=T;L=Y.W;I<T?(T=I+L-T,T>0&&(D+=T,L-=T)):(T=T+L-I,T>0&&(L-=T));FW(Y,D,L)}}Y.row=V;Y.T=r+1}else switch(L&7){case 1:switch(Y&112){case 32:UJ(D.W,0,32);break a;case 48:Y===57?(V=D.W,Wq(V).W=0,V.T<32&&V.T++):UJ(D.W,1,Y&15)}break;case 2:Y&32&&UJ(D.W,2,Y&31);break;case 3:Y&32&&UJ(D.W,3,Y&31);break;case 4:case 5:if(32<=Y&&Y<=47)switch(Y){case 32:$Fc(D);
break;case 33:V=D.W;V.T>1&&(--V.T,Wq(V).W=0);break;case 36:V=D.W;D=Wq(V);for(r=0;r<=15;r++)for(Y=0;Y<=32;Y++)if(V.L[r][Y]===D){for(;Y<=32;Y++)V.L[r][Y].reset();break}break;case 37:gtW(D,2,V);break;case 38:gtW(D,3,V);break;case 39:gtW(D,4,V);break;case 40:UJ(D.W,0,32);break;case 41:D.style.set(2);D.W=D.T;D.W.W=0;D.W.style=D.style;D.L.mode=1<<D.W.S;break;case 42:V=D.text;V.W=15;V.style.set(4);qYS(V);AFS(D);break;case 43:AFS(D);break;case 44:r=D.T;switch(D.style.get()){case 1:case 2:case 3:al(r,V)}FW(r,
0,15);break;case 45:b:{r=D.W;switch(D.style.get()){default:case 2:case 1:break b;case 4:if(r.row<15){++r.row;r.T=1;break b}break;case 3:}r.W<2&&(r.W=2,r.row<r.W&&(r.row=r.W));D=r.row-r.W+1;al(r,V);udS(r,D,D+1,r.W-1);FW(r,r.row,1)}break;case 46:FW(D.S,0,15);break;case 47:al(D.T,V),D.S.updateTime(D.L.time+0),V=D.S,D.S=D.T,D.T=V,$Fc(D)}break;case 7:switch(Y){case 33:case 34:case 35:V=D.W,(V.T+=Y&3)>32&&(V.T=32)}}},Oiq=function(){},uB=function(r,D,Y,V,L,T,I){T=T===void 0?!1:T;
I=I===void 0?null:I;g.Qe.call(this,r,r+D,{priority:Y,namespace:"captions"});this.windowId=V;this.text=L;this.append=T;this.W=I},hUx=function(r,D,Y,V,L,T,I){var B=T[0],m=I[B.getAttribute("p")];
if(m.CZ===1){var G=T[1],M=T[2];T=T[3];B.getAttribute("t");G.getAttribute("t");M.getAttribute("t");T.getAttribute("t");B.getAttribute("p");G.getAttribute("p");T.getAttribute("p");I=I[M.getAttribute("p")];B=p7c(B.textContent,G.textContent,M.textContent,T.textContent,I);return new uB(r,D,L,Y,B,V,m)}switch(m.CZ){case 9:case 10:m.j4=1;break;case 11:m.j4=2;break;case 12:m.j4=3;break;case 13:m.j4=4;break;case 14:m.j4=5}return new uB(r,D,L,Y,B.textContent||"",V,m)},p7c=function(r,D,Y,V,L){var T=g.wX(),I=
T?g.Li("DIV"):g.Li("RUBY"),B=g.Li("SPAN");
B.textContent=r;I.appendChild(B);r=T?g.Li("DIV"):g.Li("RP");r.textContent=D;I.appendChild(r);D=T?g.Li("DIV"):g.Li("RT");D.textContent=Y;I.appendChild(D);Y=L.CZ;if(Y===10||Y===11||Y===12||Y===13||Y===14)if(g.Uf(D,"text-emphasis-style","filled circle"),g.Uf(D,"text-emphasis-color","currentcolor"),g.Uf(D,"webkit-text-emphasis","filled circle"),L.CZ===11||L.CZ===13)g.Uf(D,"webkit-text-emphasis-position","under left"),g.Uf(D,"text-emphasis-position","under left");Y=!0;if(L.CZ===4||L.CZ===7||L.CZ===12||
L.CZ===14)g.Uf(I,"ruby-position","over"),g.Uf(I,"-webkit-ruby-position","before");else if(L.CZ===5||L.CZ===6||L.CZ===11||L.CZ===13)g.Uf(I,"ruby-position","under"),g.Uf(I,"-webkit-ruby-position","after"),Y=!1;L=T?g.Li("DIV"):g.Li("RP");L.textContent=V;I.appendChild(L);T&&(V=Y,g.Uf(I,{display:"inline-block",position:"relative"}),T=I.firstElementChild.nextElementSibling,g.Uf(T,"display","none"),T=T.nextElementSibling,g.Uf(T,{"font-size":"0.5em","line-height":"1.2em","text-align":"center",position:"absolute",
left:"50%",transform:"translateX(-50%)",width:"400%"}),g.Uf(I.lastElementChild,"display","none"),V?(g.Uf(I,"padding-top","0.6em"),g.Uf(T,"top","0")):(g.Uf(I,"padding-bottom","0.6em"),g.Uf(T,"bottom","0")));return I},qz=function(){g.N.apply(this,arguments)},kI=function(r,D,Y,V,L){g.Qe.call(this,r,r+D,{priority:Y,
namespace:"captions"});this.id=V;this.params=L;this.W=[]},tu0=function(r){var D="_"+gp++;
return new kI(0,0x8000000000000,0,D,r)},$I=function(r){qz.call(this);
this.L=r;this.pens={};this.N={};this.K={};this.S="_"+gp++;this.D={};this.T=this.W=null;this.j=!0},A9=function(r,D){r=r.getAttribute(D);
if(r!=null)return Number(r)},OJ=function(r,D){r=r.getAttribute(D);
if(r!=null)return r==="1"},pv=function(r,D){r=A9(r,D);
return r!==void 0?r:null},t9=function(r,D){r=r.getAttribute(D);
if(r!=null)return h9.test(r),r},iiq=function(r,D){var Y={},V=D.getAttribute("ws");
Object.assign(Y,V?r.K[V]:r.L);r=pv(D,"mh");r!=null&&(Y.oU=r);r=pv(D,"ju");r!=null&&(Y.textAlign=r);r=pv(D,"pd");r!=null&&(Y.uH=r);r=pv(D,"sd");r!=null&&(Y.vz=r);r=t9(D,"wfc");r!=null&&(Y.windowColor=r);D=A9(D,"wfo");D!==void 0&&(Y.windowOpacity=D/255);return Y},JFS=function(r,D){var Y={},V=D.getAttribute("wp");
V&&Object.assign(Y,r.N[V]);r=pv(D,"ap");r!=null&&(Y.wg=r);r=A9(D,"cc");r!=null&&(Y.MY=r);r=A9(D,"ah");r!=null&&(Y.MU=r);r=A9(D,"rc");r!=null&&(Y.Rn=r);D=A9(D,"av");D!=null&&(Y.H9=D);return Y},KJq=function(r,D,Y,V){var L={};
Object.assign(L,JFS(r,D));Object.assign(L,iiq(r,D));V?g.R8(L,r.L)?(V=r.S,L=r.L):V="_"+gp++:V=D.getAttribute("id")||"_"+gp++;r=A9(D,"t")+Y;D=A9(D,"d")||0x8000000000000;if(L.uH===2||L.uH===3)Y=L.Rn,L.Rn=L.MY,L.MY=Y;return new kI(r,D,0,V,L)},iB=function(r){qz.call(this);
this.j=r;this.W=new Map;this.L=new Map;this.S=new Map;this.T=new Map},J9=function(r){r=g.yN(Math.round(r),0,16777215).toString(16).toUpperCase();
return"#000000".substring(0,7-r.length)+r},lV_=function(r,D,Y,V,L){V===0&&(V=0x8000000000000);
var T={};D.wpWinPosId&&Object.assign(T,r.L.get(D.wpWinPosId));D.wsWinStyleId&&Object.assign(T,r.S.get(D.wsWinStyleId));r=D.rcRowCount;r!==void 0&&(T.Rn=r);D=D.ccColCount;D!==void 0&&(T.MY=D);if(T.uH===2||T.uH===3)D=T.Rn,T.Rn=T.MY,T.MY=D;return new kI(Y,V,0,L,T)},Kv=function(r,D,Y){g.k5.call(this,r);
this.videoData=D;this.audioTrack=Y;this.j=D.PK},lB=function(r,D,Y,V,L,T,I,B,m,G){Mz.call(this,r,D,Y,V,L,T,I,B,m,G);
this.type=1},EJ=function(r,D,Y){this.trackData=r;
this.D=Y;this.version=this.j=this.L=this.byteOffset=0;this.T=[];this.W=new DataView(this.trackData)},Rl=function(r){var D=r.byteOffset;
r.byteOffset+=1;return r.W.getUint8(D)},zV=function(r){var D=r.byteOffset;
r.byteOffset+=4;return r.W.getUint32(D)},dp=function(r,D){qz.call(this);
this.T=r;this.L=D;this.track=this.L.languageName==="CC3"?4:0;this.W=new Bc0;this.W.T=1<<this.track},RUe=function(r){if(typeof r==="string")return!1;
r=new EJ(r,8,0);return EtW(r)},EtW=function(r){if(!(r.byteOffset<r.W.byteLength)||zV(r)!==1380139777)return!1;
r.version=Rl(r);if(r.version>1)return!1;Rl(r);Rl(r);Rl(r);return!0},Sd=function(r,D,Y,V,L,T,I,B,m,G){Mz.call(this,r,D,Y,V,L,T,I,B,m,G);
var M=this;this.type=2;this.i$=[];this.Tv=this.Y=this.y_=0;this.gT=NaN;this.p5=0;this.Zf=null;this.UI=new g.LN(this.Ce,433,this);this.b$=!1;this.D&&(G.createClientVe(this.D,this,167342),this.X(this.D,"click",function(){G.logClick(M.D)}),r=new g.ZF(this.element,!0),g.v(this,r),r.subscribe("hoverstart",function(){G.logVisibility(M.D,!0)},this));
g.yO(this.element,"ytp-caption-window-rollup");g.v(this,this.UI);this.b$=B.X2("html5_rollup_caption_window_enable_transition_end_listener");g.Uf(this.element,"overflow","hidden")},zUM=function(r,D){if(!D)return"";
r.L&&r.T.params.vz!==1&&(D*=-1);return"translate"+(r.L?"X":"Y")+"("+D+"px)"},dFW=function(r){r.i$=Array.from(r.element.getElementsByClassName("caption-visual-line"));
for(var D=r.T.params.Rn,Y=0,V=0,L=r.i$.length-1;Y<D&&L>-1;){var T=r.i$[L];V+=r.L?T.offsetWidth:T.offsetHeight;Y++;L--}r.Y=V;D=Math;Y=D.max;isNaN(r.gT)&&((V=r.W.MY)?(L=g.Li("SPAN"),g.MF(L,"\u2013".repeat(V)),g.Uf(L,Vua(r,r.W.tj)),r.S.appendChild(L),r.gT=L.offsetWidth,r.S.removeChild(L)):r.gT=0);V=r.S;r.Tv=Y.call(D,r.gT,r.p5,(r.L?V.offsetHeight:V.offsetWidth)+1)},SY_=function(r,D){dFW(r);
var Y=r.i$.reduce(function(T,I){return(r.L?I.offsetWidth:I.offsetHeight)+T},0);
Y=r.Y-Y;if(Y!==r.y_){var V=Y>0&&r.y_===0,L=Y<r.y_;D||isNaN(Y)||V||!L||(g.yO(r.element,"ytp-rollup-mode"),r.b$?r.X(r.element,"transitionend",r.Ce):g.TH(r.UI));g.Uf(r.S,"transform",zUM(r,Y));r.y_=Y}dFW(r)},Ncr=function(r,D,Y,V){var L=this;
this.C=r;this.T=D;this.logger=Y;this.Df=V;this.US=[];this.X4=[];this.Up=null;this.LC={L4o:function(){return L.Up},
k6:function(){return L.US}};
r=g.qh(this.C.Z().experiments,"html5_override_micro_discontinuities_threshold_ms");this.W=r>0?r:10},eU5=function(r,D){r.Up=function(Y,V){if(Y.info.j){var L=Y;
if(r.X4.length>0){for(L=r.X4.shift();r.X4.length>0;)L=g.I5(L,r.X4.shift());L=g.I5(L,Y)}if(L){Y=L;try{var T=g.xl(Y)*1E3}catch(G){T=Y.info.startTime*1E3}try{var I=g.A_Q(Y)*1E3}catch(G){I=Y.info.duration*1E3}if(T<0||I<0)T<0&&(T=Y.info.startTime*1E3),I<0&&(I=Y.info.duration*1E3);Y.info.startTime=T/1E3;Y.info.S=T/1E3;Y.info.duration=I/1E3;Y.info.K=I/1E3;T=r.BF(L);I=T.jD;T={formatId:T.formatId,startTimeMs:T.startTimeMs,durationMs:T.durationMs,B2:I,KZ:I};I=vtR(r.US,T.startTimeMs);var B=(Y=I>=0?r.US[I]:null)?
Y.startTimeMs+Y.durationMs:0,m=T.startTimeMs+T.durationMs;!Y||T.startTimeMs-B>r.W?r.US.splice(I+1,0,T):(Y.durationMs=Math.max(B,m)-Y.startTimeMs,Y.KZ=Math.max(Y.KZ,T.KZ));V(r.US);V=L.i9();bi5(r.T,V.buffer.slice(V.byteOffset,V.byteLength+V.byteOffset),D,L.info.S)}else r.logger.W(350058965,"Empty slice")}else r.X4.push(Y)};
r.C.addEventListener("sabrCaptionsDataLoaded",r.Up)},vtR=function(r,D){r=g.BR(r,{startTimeMs:D},function(Y,V){return Y.startTimeMs-V.startTimeMs});
return r>=0?r:-r-2},cFS=function(r,D){g.k5.call(this,D);
this.W=r;this.C=D;this.logger=new g.G7("caps");this.L=this.D=null;this.N=new Ncr(this.C,this,this.logger,this.W.Df)},bi5=function(r,D,Y,V){r.logger.debug(function(){return"SABR captions data received for "+V});
r.D?r.L==null?r.logger.W(350058965,"Null loaded track meta data at captions data received"):Y.Q7(D,r.L,V*1E3):r.logger.W(350058965,"Null Representation at captions data received")},C3T=function(r,D){var Y=[],V;
for(V in r.W.W)if(r.W.W.hasOwnProperty(V)){var L=r.W.W[V];if(g.$5(L,D||null)){var T=L.info.id,I=T,B="."+T,m="",G="";if(L=L.info.captionTrack)T=L.languageCode,I=L.displayName,B=L.vssId,m=L.kind,G=L.id;Y.push(new g.Ft({id:V,languageCode:T,languageName:I,is_servable:!0,is_default:!0,is_translateable:!1,vss_id:B,kind:m,captionId:G}))}}return Y},Ziq=function(r,D,Y){var V=[],L;
for(L in r.W.W)if(r.W.W.hasOwnProperty(L)){var T=r.W.W[L];if(g.$5(T,Y||null)){var I=T.info.captionTrack;I&&I.languageCode===D&&V.push(T)}}return V.length?V[0]:null},X7S=function(r,D){if(!g.y3Q(r)||r.W!=null&&g.EM(D.Z())&&!r.W.isManifestless&&r.W.W.rawcc!=null)return!1;
D=!!r.W&&r.W.isManifestless&&Object.values(r.W.W).some(function(Y){return g.$5(Y,"386")});
r=!!r.W&&!r.W.isManifestless&&g.N8W(r.W);return D||r},Nz=function(){qz.call(this)},otr=function(r,D,Y,V,L,T,I,B,m){switch(I.tagName){case "b":B.bold=!0;
break;case "i":B.italic=!0;break;case "u":B.underline=!0}for(var G=0;G<I.childNodes.length;G++){var M=I.childNodes[G];if(M.nodeType===3)M=new uB(D,Y,V,L.id,M.nodeValue,T||G>0,g.lu(B)?void 0:B),m.push(M),L.W.push(M);else{var Q={};Object.assign(Q,B);otr(r,D,Y,V,L,!0,M,Q,m)}}},P30=function(r){var D=r.split(":");
r=0;D=g.F(D);for(var Y=D.next();!Y.done;Y=D.next())r=r*60+Number(Y.value);return r*1E3},ntc=function(r,D,Y,V){V=Object.assign({oU:0},V);
return new kI(r,D,Y,"_"+gp++,V)},vq=function(r,D){g.N.call(this);
this.C=r;this.ag=D;this.W=null;this.T=this.C.Zt();this.logger=new g.G7("caps")},fVr=function(r,D,Y){if(typeof D==="string"||RUe(D))return[{trackData:D,
lK:Y}];var V=new DataView(D);if(V.byteLength<=8||V.getUint32(4)!==1718909296)return[];var L=g.lgY(V);if(r.T&&L){var T=g.A6o(L),I=g.OcY(L);L=L.mS;T&&L&&r.T.Ib(L,T,I)}r=g.xR(V,1835295092);if(!r||!r.length||!r[0].size)return[];T=[];for(I=0;I<r.length;I++)L=r[I],L=new Uint8Array(D,L.dataOffset,L.size-(L.dataOffset-L.offset)),L=g.Rg(L),T.push({trackData:L,lK:Y+I*1E3});Hi_(V,T,Y);return T=T.filter(function(B){return!!B.trackData})},Hi_=function(r,D,Y){var V=g.fW(r,0,1836476516),L=9E4;
V&&(L=g.wx(V)||9E4);V=0;for(var T=g.xR(r,1836019558),I=0;I<T.length;I++){var B=T[I];I<D.length&&(B=g.fW(r,B.dataOffset,1953653094))&&(B=g.fW(r,B.dataOffset,1952867444))&&(B=g.Tz(B)/L*1E3,I===0&&(V=B),D[I].lK=B-V+Y||Y*I*1E3)}},w7T=function(r){var D={};
if(r=g.kA(r))D.lang=r,g.brr.test(r)&&(D.uH=1);return D},bB=function(r){g.uF.call(this,r);
var D=this;this.C=r;this.rT=[];this.i$={};this.b$={};this.K=!1;this.S="NONE";this.W=this.Y=this.Tv=this.u$=this.JT=null;this.l8={Vb:function(){D.Vb()},
Q7:function(T,I,B,m){D.Q7(T,I,B,m)}};
this.T=null;this.ag=this.C.Z();this.videoData=this.C.getVideoData();this.Bo=this.C.Rg();var Y;this.kz=(Y=this.C.getVideoData(1))==null?void 0:g.rK(Y);this.L={tj:{}};this.D={tj:{}};g.La(this.videoData)?this.S="OFFLINE":X7S(this.videoData,this.C)?this.S="SABR_LIVE":g.vba(this.videoData,this.C)?this.S="LIVE":this.videoData.captionTracks.length?this.S="INNERTUBE":this.videoData.dJ&&(this.S="TTS");this.UI=this.ag.controlsType==="3";this.OI=new vq(this.C,this.ag);this.gT=new g.Cc(this);this.N=new g.Z({G:"div",
U:"ytp-caption-window-container",J:{id:"ytp-caption-window-container"}});this.LP={top:0,right:0,bottom:0,left:0,width:1,height:1};Y=null;var V=g.ZY("yt-html5-player-modules::subtitlesModuleData");V&&(Y=new g.zH(V));this.storage=Y;var L;this.T5=!((L=r.PY())==null||!L.ZF());this.j=roT(this);this.Gv=!this.j&&this.UI&&this.T5&&(this.S==="LIVE"||this.S==="SABR_LIVE");g.v(this,this.OI);this.j?this.y_=this.eD=null:(this.eD=new g.VO(this.uK,void 0,this),g.v(this,this.eD),this.y_=new g.LN(this.dxF,2E3,this),
g.v(this,this.y_));g.v(this,this.gT);g.NI(this.player,this.N.element,4);g.v(this,this.N);this.j||this.gT.X(r,"resize",this.sC);(this.z5=g.Nc(this.ag)&&!g.pK()&&!this.C.isFullscreen()&&!this.j&&!this.Gv)&&this.gT.X(r,"resize",this.W3o);this.gT.X(r,"onPlaybackAudioChange",this.Cd_);this.gT.X(r,g.ye("captions"),function(T){D.onCueRangeEnter(T)});
this.gT.X(r,g.aB("captions"),function(T){D.onCueRangeExit(T)});
this.kz&&this.gT.X(r,"videodatachange",function(T,I){D.onVideoDataChange(T,I)});
DHr(this,cUa()||{});this.player.Y$("onCaptionsModuleAvailable")},LLc=function(r){if(r.ag.T5===1||r.videoData.Ko===1||g.h4(r.videoData,"yt:cc")==="alwayson")return!0;
if(r.videoData.captionTracks.length)var D=r.getAudioTrack().T;if(r.ag.T5===2){if(g.YA(r.ag))var Y=YuM(r);else if(r.storage)try{Y=r.storage.get("module-enabled")}catch(L){r.storage.remove("module-enabled")}else Y=null;if(Y!=null)return!!Y}Y=EHM(r.player.getAudioTrack(),g.YA(r.ag));var V=g.h4(r.videoData,"yt:cc");if(Vaq(r)===void 0){if(Y==="CAPTIONS_INITIAL_STATE_ON_RECOMMENDED")return V?V==="on":!0;if(Y==="CAPTIONS_INITIAL_STATE_OFF_RECOMMENDED")return V==="on"}else return V==="on";return D==="ON"||
g.h4(r.videoData,"yt:cc")==="on"},ed=function(r,D){if(r.T&&(D===void 0||!D)||!r.videoData.captionTracks.length)return!1;
r=r.getAudioTrack();return!!r.W||r.T==="FORCED_ON"},Vaq=function(r){var D=void 0,Y=g.fK(g.HZ(),65);
if(g.YA(r.ag)&&Y!=null){if(YuM(r)!=null)return!1;D=!Y}return D},Cv=function(r,D){if(!r.W)return null;
if(r.Y&&r.Y.S)return r.Y.S;D=TS_(r,D);D=g.x5(r.W.T,D);var Y=null;if(ReM(r.ag)){var V=r.C.isInline()?void 0:g.CK("yt-player-caption-sticky-language");for(var L=[V,r.videoData.captionsLanguagePreference,r.ag.captionsLanguagePreference,g.h4(r.videoData,"yt:cc_default_lang")],T=!1,I=0;I<L.length;I++){var B=L[I];if(B){T=!0;for(var m=0;m<D.length;m++)if(g.kA(D[m])===B)return D[m];for(m=0;m<D.length;m++)if(g.kA(D[m]).split("-")[0]===B.split("-")[0])return D[m]}}if(T&&r.W&&(L=r.W.j,L.length))for(L=g.F(L),
T=L.next();!T.done;T=L.next())if(T=T.value,T.languageCode===V){Y=T;break}}else for(V=[r.videoData.captionsLanguagePreference,r.ag.captionsLanguagePreference,g.h4(r.videoData,"yt:cc_default_lang")],L=0;L<V.length;L++)for(T=0;T<D.length;T++)if(g.kA(D[T])===V[L])return D[T];V=null;r.Y&&r.Y.L&&(V=r.Y.L);V||(V=D.find(function(G){return G.isDefault})||null);
V||(V=D[0]||cq(r));V&&Y&&g.kA(V).split("-")[0]!==Y.languageCode.split("-")[0]&&(V=zeq(V,Y));return V},cq=function(r){return r.Y&&r.Y.W},ZB=function(r){var D=cq(r);
return!!D&&r.T===D},Iia=function(r,D){var Y=r.C.PY().gD().textTracks;
r=r.T.toString();for(var V=0;V<Y.length;V++){var L=Y[V];L.id===r&&(D?L.mode!=="showing"&&(L.mode="showing"):L.mode==="showing"&&(L.mode="disabled"))}},Pq=function(r,D,Y){r.loaded&&r.unload();
Y!=null&&(r.K=Y,r.K&&(g.YA(r.ag)?XW(r,!!D):ol(r,!!D)));xHr(r,r.T,D,r.K,!1);r.T=D;ed(r)&&(D=cq(r),xHr(r,r.T,D,r.K,!0),r.T=D);var V;BS0(r,(V=r.T)!=null?V:void 0);r.load()},Gbe=function(r,D){if(D instanceof kI){var Y=r.i$[D.id];
Y&&Y.T!==D&&(Y.dispose(),delete r.i$[D.id],Y=null);Y||(Y=mH0(r,D))&&(r.i$[D.id]=Y)}else Y=D.windowId,r.b$[Y]||(r.b$[Y]=[]),r.b$[Y].push(D)},mH0=function(r,D){var Y=Ma_(r);
if(!Y)return null;var V=r.T?g.kA(r.T):null;V&&g.brr.test(V)&&(D.params.uH=1);var L=r.Bo.getPlayerSize();V=L.height*r.LP.height;L=L.width*r.LP.width;r.ag.playerStyle!=="google-live"||r.L.isDefault||Object.assign(D.params,r.L);switch(D.params.oU!=null?D.params.oU:D.W.length>1?1:0){case 1:return new lB(D,r.L,r.D,Y.width,Y.height,L,V,r.ag.experiments,r.OO.bind(r),r.C);case 2:return new Sd(D,r.L,r.D,Y.width,Y.height,L,V,r.ag.experiments,r.OO.bind(r),r.C);default:return new Mz(D,r.L,r.D,Y.width,Y.height,
L,V,r.ag.experiments,r.OO.bind(r),r.C)}},DHr=function(r,D,Y){Y=Y===void 0?!1:Y;
var V=nv.tj;r.L={};Object.assign(r.L,nv);r.L.tj={};Object.assign(r.L.tj,V);r.D={tj:{}};var L=D.backgroundOverride?r.D:r.L,T=D.background||V.background;h9.test(T);L.tj.background=T;L=D.colorOverride?r.D:r.L;T=D.color||V.color;h9.test(T);L.tj.color=T;L=D.windowColorOverride?r.D:r.L;T=D.windowColor||nv.windowColor;h9.test(T);L.windowColor=T;L=D.backgroundOpacityOverride?r.D:r.L;T=D.backgroundOpacity;T==null&&(T=V.backgroundOpacity);L.tj.backgroundOpacity=T;L=D.fontSizeIncrementOverride?r.D:r.L;T=D.fontSizeIncrement;
T==null&&(T=V.fontSizeIncrement);L.tj.fontSizeIncrement=T;T=D.fontStyleOverride?r.D:r.L;L=D.fontStyle;L==null&&(L=V.bold&&V.italic?3:V.bold?1:V.italic?2:0);T=T.tj;switch(L){case 1:T.bold=!0;delete T.italic;break;case 2:delete T.bold;T.italic=!0;break;case 3:T.bold=!0;T.italic=!0;break;default:delete T.bold,delete T.italic}L=D.textOpacityOverride?r.D:r.L;T=D.textOpacity;T==null&&(T=V.textOpacity);L.tj.textOpacity=T;L=D.windowOpacityOverride?r.D:r.L;T=D.windowOpacity;T==null&&(T=nv.windowOpacity);L.windowOpacity=
T;L=D.charEdgeStyleOverride?r.D:r.L;T=D.charEdgeStyle;T==null&&(T=V.charEdgeStyle);L.tj.charEdgeStyle=T;L=D.fontFamilyOverride?r.D:r.L;T=D.fontFamily;T==null&&(T=V.fontFamily);L.tj.fontFamily=T;r.loaded&&r.sC();Y&&g.cZ("yt-player-caption-display-settings",D,2592E3)},jkM=function(r,D){if(!r.W)return{};
if(D){g.lu(D)||r.Kh(D.vss_id,"m");if(r.j||!g.PW(D))return;if(g.lu(D)){Pq(r,null,!0);return}for(var Y,V=g.x5(r.W.T,!0),L=0;L<V.length;L++){var T=V[L];T.languageCode!==D.languageCode||Y&&(T.languageName!==D.languageName||(T.captionId||"")!==(D.captionId||"")||g.uD(T)!==D.displayName)||(Y=D.translationLanguage?zeq(T,D.translationLanguage):T)}r.w0(D.position);!Y||Y===r.T&&r.loaded||(D=g.nH(),V=g.kA(Y),D.length&&V===D[D.length-1]||(D.push(V),g.cZ("yt-player-caption-language-preferences",D)),ReM(r.ag)&&
!r.C.isInline()&&g.cZ("yt-player-caption-sticky-language",V,2592E3),Pq(r,Y,!0))}else return r.loaded&&r.T&&!ZB(r)?g.qr(r.T):{};return""},sk_=function(r,D,Y){D&&!r.Tv?(D=tu0({uH:0,
lang:"en-GB"}),r.Tv=[D,new uB(D.start,D.end-D.start,0,D.id,Y!=null?Y:"Captions look like this")],r.player.a$(r.Tv)):!D&&r.Tv&&(Qka(r,r.Tv),r.Tv=null)},Qka=function(r,D){r.player.Zm(D);
D=g.F(D);for(var Y=D.next();!Y.done;Y=D.next())g.wT(r.rT,Y.value);Bq(r.eD)},BS0=function(r,D){r.ag.V("html5_modify_caption_vss_logging")&&(r.videoData.mm=D)},Ma_=function(r){var D=r.Bo.getVideoContentRect(!0).height,Y=r.Bo.getVideoContentRect(!0).width;
if(!D||!Y)return null;D*=r.LP.height;Y*=r.LP.width;return{width:Y,height:D}},ol=function(r,D){if(r.storage)try{r.storage.set("module-enabled",D)}catch(Y){}},XW=function(r,D){r.C.isInline()||g.cZ("yt-player-sticky-caption",D,2592E3)},YuM=function(r){if(!r.C.isInline())return g.CK("yt-player-sticky-caption")},roT=function(r){if(r.ag.V("safari_live_drm_captions_fix")&&r.videoData.Oa()&&r.videoData.Df()&&g.tc)return!0;
var D,Y=!((D=r.C.PY())==null||!D.Qd());return r.UI&&Y&&r.S!=="LIVE"&&r.S!=="SABR_LIVE"},TS_=function(r,D){g.e7(r.videoData)&&(D=!0);
D||(D=r.S==="TTS"?!1:r.S==="INNERTUBE"?!1:!0);return D||r.ag.V("web_deprecate_always_includes_asr_setting")&&g.YA(r.ag)?!0:!!g.fK(g.HZ(),66)},xHr=function(r,D,Y,V,L){L?r.Ea(Y,!0,"g"):V?D?r.Ea(Y,!!Y,"m"):Y&&r.Ea(Y,!0,"m"):!D&&Y&&r.Ea(Y,!0,"s")};
g.k5.prototype.fE=g.Vo(77,function(){return!1});
g.k5.prototype.hn=g.Vo(76,function(){});
g.g5.prototype.hn=g.Vo(75,function(r,D,Y){var V=this;this.DQ();D=this.WC(r,D);var L=this.nP.Z().V("html5_report_captions_ctmp_qoe"),T=(0,g.dU)();this.yn();lPR(this,D,{format:"RAW",onSuccess:function(I){V.W=null;if(L){var B=(I.responseText.length/1024).toFixed(),m=(0,g.dU)();V.videoData.Wo("capresp",{ms:m-T,kb:B})}Y.Q7(I.responseText,r)},
onError:L?function(I){var B;I=(B=I==null?void 0:I.status)!=null?B:0;V.videoData.Wo("capfail",{status:I})}:void 0,
withCredentials:!0})});
g.Aw.prototype.hn=g.Vo(74,function(r,D,Y){var V=this;this.DQ();D=this.WC(r,D);this.yn();this.W=g.EA(D,{format:"RAW",onSuccess:function(L){V.W=null;Y.Q7(L.responseText,r)},
withCredentials:!0})});
g.r5.prototype.Xs=g.Vo(73,function(){for(var r=g.HJ(document,"track",void 0,this.W),D=0;D<r.length;D++)g.mJ(r[D])});
g.Ev.prototype.Xs=g.Vo(72,function(){this.mediaElement.Xs()});
g.r5.prototype.ZF=g.Vo(71,function(){return!(!this.W.textTracks||!this.W.textTracks.addEventListener)});
g.Ev.prototype.ZF=g.Vo(70,function(){return this.mediaElement.ZF()});
g.r5.prototype.Qd=g.Vo(69,function(){return!!this.W.textTracks});
g.Ev.prototype.Qd=g.Vo(68,function(){return this.mediaElement.Qd()});
g.r5.prototype.pN=g.Vo(67,function(r){for(var D=0;D<r.length;D++)this.W.appendChild(r[D])});
g.Ev.prototype.pN=g.Vo(66,function(r){this.mediaElement.pN(r)});
g.TK.prototype.Ib=g.Vo(65,function(r,D,Y){this.VP.Ib(r,D,Y)});
g.Zj.prototype.Ib=g.Vo(64,function(r,D,Y){this.T.set(r,{UZ:D,yV:Y})});
g.Xi.prototype.Ib=g.Vo(63,function(r,D,Y){this.eD.Ib(r,D,Y)});
g.TK.prototype.Uw=g.Vo(62,function(r){return this.VP.Uw(r)});
g.Xi.prototype.Uw=g.Vo(61,function(r){var D=2;this.K.has(r)?D=0:g.W8Q(this,r)&&(D=1);return D});
g.JI.prototype.zy=g.Vo(49,function(r){var D=this.app.sS();return D?D.zy(r):!1});
g.ZC.prototype.zy=g.Vo(48,function(r){return this.fP.cT.zy(r)});
g.bi.prototype.zy=g.Vo(47,function(r){return this.t$().some(function(D){return D.namespace===r})});
g.Nl.prototype.zy=g.Vo(46,function(){return!1});
g.JI.prototype.Kh=g.Vo(44,function(r,D){var Y;(Y=this.app.pP())==null||Y.Kh(r,D)});
g.ZC.prototype.Kh=g.Vo(43,function(r,D){this.fP.Kh(r,D)});
g.$2.prototype.Kh=g.Vo(42,function(r,D){r=[r,D];g.gC(this,g.FQ(this.provider),"cfi",r)});
g.Sg.prototype.Kh=g.Vo(41,function(r,D){this.qoe&&this.qoe.Kh(r,D)});
g.MS.prototype.Kh=g.Vo(40,function(r,D){this.Ip().Kh(r,D)});
g.Nl.prototype.Kh=g.Vo(39,function(){});
g.JI.prototype.Ea=g.Vo(38,function(r,D,Y){var V;(V=this.app.pP())==null||V.Ea(r,D,Y)});
g.ZC.prototype.Ea=g.Vo(37,function(r,D,Y){this.fP.Ea(r,D,Y)});
g.$2.prototype.Ea=g.Vo(36,function(r,D,Y){if(this.eD!==r||this.Bk!==D)D=D==="rawcc"?"":D,Y=[r,D,this.eD,Y],g.gC(this,g.FQ(this.provider),"cfs",Y),this.eD=r,this.Bk=D});
g.Sg.prototype.Ea=g.Vo(35,function(r,D,Y){this.qoe&&this.qoe.Ea(r,D,Y)});
g.MS.prototype.Ea=g.Vo(34,function(r,D,Y){this.Ip().Ea(r,D,Y)});
g.Nl.prototype.Ea=g.Vo(33,function(){});
g.Vn.prototype.tM=g.Vo(20,function(){return this.K});
g.UF.prototype.tM=g.Vo(19,function(){var r;return((r=this.pP())==null?void 0:r.Zt())||null});
g.JI.prototype.Zt=g.Vo(18,function(){return this.app.tM()});
g.ZC.prototype.Zt=g.Vo(17,function(){return this.fP.Zt()});
g.MS.prototype.Zt=g.Vo(16,function(){var r;return((r=this.tT)==null?void 0:r.tM())||null});
g.Nl.prototype.Zt=g.Vo(15,function(){return null});
g.dx.prototype.MM=g.Vo(1,function(r){return(r=this.Ol(r))?r.W:0});
g.MU.prototype.MM=g.Vo(0,function(){return 0});
var vHa=/#(.)(.)(.)/,NIW=/^#(?:[0-9a-f]{3}){1,2}$/i,PuR={aa:"Afar",ab:"Abkhazian",ace:"Acehnese",ach:"Acoli",ada:"Adangme",ady:"Adyghe",ae:"Avestan",aeb:"Tunisian Arabic",af:"Afrikaans",afh:"Afrihili",agq:"Aghem",ain:"Ainu",ak:"Akan",akk:"Akkadian",akz:"Alabama",ale:"Aleut",aln:"Gheg Albanian",alt:"Southern Altai",am:"Amharic",an:"Aragonese",ang:"Old English",anp:"Angika",ar:"Arabic",ar_001:"Arabic (world)",arc:"Aramaic",arn:"Mapuche",aro:"Araona",arp:"Arapaho",arq:"Algerian Arabic",ars:"Najdi Arabic",
arw:"Arawak",ary:"Moroccan Arabic",arz:"Egyptian Arabic",as:"Assamese",asa:"Asu",ase:"American Sign Language",ast:"Asturian",av:"Avaric",avk:"Kotava",awa:"Awadhi",ay:"Aymara",az:"Azerbaijani",az_Cyrl:"Azerbaijani (Cyrillic)",az_Latn:"Azerbaijani (Latin)",ba:"Bashkir",bal:"Baluchi",ban:"Balinese",bar:"Bavarian",bas:"Basaa",bax:"Bamun",bbc:"Batak Toba",bbj:"Ghomala",be:"Belarusian",bej:"Beja",bem:"Bemba",bew:"Betawi",bez:"Bena",bfd:"Bafut",bfq:"Badaga",bg:"Bulgarian",bgc:"Haryanvi",bgn:"Western Balochi",
bho:"Bhojpuri",bi:"Bislama",bik:"Bikol",bin:"Bini",bjn:"Banjar",bkm:"Kom",bla:"Siksik\u00e1",blo:"Anii",bm:"Bambara",bn:"Bangla",bo:"Tibetan",bpy:"Bishnupriya",bqi:"Bakhtiari",br:"Breton",bra:"Braj",brh:"Brahui",brx:"Bodo",bs:"Bosnian",bs_Cyrl:"Bosnian (Cyrillic)",bs_Latn:"Bosnian (Latin)",bss:"Akoose",bua:"Buriat",bug:"Buginese",bum:"Bulu",byn:"Blin",byv:"Medumba",ca:"Catalan",cad:"Caddo",car:"Carib",cay:"Cayuga",cch:"Atsam",ccp:"Chakma",ce:"Chechen",ceb:"Cebuano",cgg:"Chiga",ch:"Chamorro",chb:"Chibcha",
chg:"Chagatai",chk:"Chuukese",chm:"Mari",chn:"Chinook Jargon",cho:"Choctaw",chp:"Chipewyan",chr:"Cherokee",chy:"Cheyenne",ckb:"Central Kurdish",co:"Corsican",cop:"Coptic",cps:"Capiznon",cr:"Cree",crh:"Crimean Tatar",cs:"Czech",csb:"Kashubian",csw:"Swampy Cree",cu:"Church Slavic",cv:"Chuvash",cy:"Welsh",da:"Danish",dak:"Dakota",dar:"Dargwa",dav:"Taita",de:"German",de_AT:"German (Austria)",de_CH:"German (Switzerland)",del:"Delaware",den:"Slave",dgr:"Dogrib",din:"Dinka",dje:"Zarma",doi:"Dogri",dsb:"Lower Sorbian",
dua:"Duala",dum:"Middle Dutch",dv:"Divehi",dyo:"Jola-Fonyi",dyu:"Dyula",dz:"Dzongkha",dzg:"Dazaga",ebu:"Embu",ee:"Ewe",efi:"Efik",egy:"Ancient Egyptian",eka:"Ekajuk",el:"Greek",elx:"Elamite",en:"English",en_AU:"English (Australia)",en_CA:"English (Canada)",en_GB:"English (United Kingdom)",en_US:"English (United States)",enm:"Middle English",eo:"Esperanto",es:"Spanish",es_419:"Spanish (Latin America)",es_ES:"Spanish (Spain)",es_MX:"Spanish (Mexico)",et:"Estonian",eu:"Basque",ewo:"Ewondo",fa:"Persian",
fa_AF:"Persian (Afghanistan)",fan:"Fang",fat:"Fanti",ff:"Fula",ff_Adlm:"Fula (Adlam)",ff_Latn:"Fula (Latin)",fi:"Finnish",fil:"Filipino",fj:"Fijian",fo:"Faroese",fon:"Fon",fr:"French",fr_CA:"French (Canada)",fr_CH:"French (Switzerland)",frm:"Middle French",fro:"Old French",frr:"Northern Frisian",frs:"Eastern Frisian",fur:"Friulian",fy:"Western Frisian",ga:"Irish",gaa:"Ga",gay:"Gayo",gba:"Gbaya",gd:"Scottish Gaelic",gez:"Geez",gil:"Gilbertese",gl:"Galician",gmh:"Middle High German",gn:"Guarani",goh:"Old High German",
gon:"Gondi",gor:"Gorontalo",got:"Gothic",grb:"Grebo",grc:"Ancient Greek",gsw:"Swiss German",gu:"Gujarati",guz:"Gusii",gv:"Manx",gwi:"Gwich\u02bcin",ha:"Hausa",hai:"Haida",haw:"Hawaiian",he:"Hebrew",hi:"Hindi",hi_Latn:"Hindi (Latin)",hil:"Hiligaynon",hit:"Hittite",hmn:"Hmong",ho:"Hiri Motu",hr:"Croatian",hsb:"Upper Sorbian",ht:"Haitian Creole",hu:"Hungarian",hup:"Hupa",hy:"Armenian",hz:"Herero",ia:"Interlingua",iba:"Iban",ibb:"Ibibio",id:"Indonesian",ie:"Interlingue",ig:"Igbo",ii:"Sichuan Yi",ik:"Inupiaq",
ilo:"Iloko","in":"Indonesian",inh:"Ingush",io:"Ido",is:"Icelandic",it:"Italian",iu:"Inuktitut",iw:"Hebrew",ja:"Japanese",jbo:"Lojban",jgo:"Ngomba",jmc:"Machame",jpr:"Judeo-Persian",jrb:"Judeo-Arabic",jv:"Javanese",ka:"Georgian",kaa:"Kara-Kalpak",kab:"Kabyle",kac:"Kachin",kaj:"Jju",kam:"Kamba",kaw:"Kawi",kbd:"Kabardian",kbl:"Kanembu",kcg:"Tyap",kde:"Makonde",kea:"Kabuverdianu",kfo:"Koro",kg:"Kongo",kgp:"Kaingang",kha:"Khasi",kho:"Khotanese",khq:"Koyra Chiini",ki:"Kikuyu",kj:"Kuanyama",kk:"Kazakh",
kk_Cyrl:"Kazakh (Cyrillic)",kkj:"Kako",kl:"Kalaallisut",kln:"Kalenjin",km:"Khmer",kmb:"Kimbundu",kn:"Kannada",ko:"Korean",kok:"Konkani",kok_Deva:"Konkani (Devanagari)",kok_Latn:"Konkani (Latin)",kos:"Kosraean",kpe:"Kpelle",kr:"Kanuri",krc:"Karachay-Balkar",krl:"Karelian",kru:"Kurukh",ks:"Kashmiri",ks_Arab:"Kashmiri (Arabic)",ks_Deva:"Kashmiri (Devanagari)",ksb:"Shambala",ksf:"Bafia",ksh:"Colognian",ku:"Kurdish",kum:"Kumyk",kut:"Kutenai",kv:"Komi",kw:"Cornish",kxv:"Kuvi",kxv_Deva:"Kuvi (Devanagari)",
kxv_Latn:"Kuvi (Latin)",kxv_Orya:"Kuvi (Odia)",kxv_Telu:"Kuvi (Telugu)",ky:"Kyrgyz",la:"Latin",lad:"Ladino",lag:"Langi",lah:"Western Panjabi",lam:"Lamba",lb:"Luxembourgish",lez:"Lezghian",lg:"Ganda",li:"Limburgish",lij:"Ligurian",lkt:"Lakota",lmo:"Lombard",ln:"Lingala",lo:"Lao",lol:"Mongo",loz:"Lozi",lrc:"Northern Luri",lt:"Lithuanian",lu:"Luba-Katanga",lua:"Luba-Lulua",lui:"Luiseno",lun:"Lunda",luo:"Luo",lus:"Mizo",luy:"Luyia",lv:"Latvian",mad:"Madurese",maf:"Mafa",mag:"Magahi",mai:"Maithili",mak:"Makasar",
man:"Mandingo",mas:"Masai",mde:"Maba",mdf:"Moksha",mdr:"Mandar",men:"Mende",mer:"Meru",mfe:"Morisyen",mg:"Malagasy",mga:"Middle Irish",mgh:"Makhuwa-Meetto",mgo:"Meta\u02bc",mh:"Marshallese",mi:"M\u0101ori",mic:"Mi'kmaw",min:"Minangkabau",mk:"Macedonian",ml:"Malayalam",mn:"Mongolian",mnc:"Manchu",mni:"Manipuri",mni_Beng:"Manipuri (Bangla)",mo:"Romanian",moh:"Mohawk",mos:"Mossi",mr:"Marathi",ms:"Malay",mt:"Maltese",mua:"Mundang",mul:"Multiple languages",mus:"Muscogee",mwl:"Mirandese",mwr:"Marwari",
my:"Burmese",mye:"Myene",myv:"Erzya",mzn:"Mazanderani",na:"Nauru",nap:"Neapolitan",naq:"Nama",nb:"Norwegian Bokm\u00e5l",nd:"North Ndebele",nds:"Low German",nds_NL:"Low German (Netherlands)",ne:"Nepali","new":"Newari",ng:"Ndonga",nia:"Nias",niu:"Niuean",nl:"Dutch",nl_BE:"Dutch (Belgium)",nmg:"Kwasio",nn:"Norwegian Nynorsk",nnh:"Ngiemboon",no:"Norwegian",nog:"Nogai",non:"Old Norse",nqo:"N\u2019Ko",nr:"South Ndebele",nso:"Northern Sotho",nus:"Nuer",nv:"Navajo",nwc:"Classical Newari",ny:"Nyanja",nym:"Nyamwezi",
nyn:"Nyankole",nyo:"Nyoro",nzi:"Nzima",oc:"Occitan",oj:"Ojibwa",om:"Oromo",or:"Odia",os:"Ossetic",osa:"Osage",ota:"Ottoman Turkish",pa:"Punjabi",pa_Arab:"Punjabi (Arabic)",pa_Guru:"Punjabi (Gurmukhi)",pag:"Pangasinan",pal:"Pahlavi",pam:"Pampanga",pap:"Papiamento",pau:"Palauan",pcm:"Nigerian Pidgin",peo:"Old Persian",phn:"Phoenician",pi:"Pali",pl:"Polish",pon:"Pohnpeian",prg:"Prussian",pro:"Old Proven\u00e7al",ps:"Pashto",pt:"Portuguese",pt_BR:"Portuguese (Brazil)",pt_PT:"Portuguese (Portugal)",qu:"Quechua",
raj:"Rajasthani",rap:"Rapanui",rar:"Rarotongan",rm:"Romansh",rn:"Rundi",ro:"Romanian",ro_MD:"Romanian (Moldova)",rof:"Rombo",rom:"Romany",ru:"Russian",rup:"Aromanian",rw:"Kinyarwanda",rwk:"Rwa",sa:"Sanskrit",sad:"Sandawe",sah:"Yakut",sam:"Samaritan Aramaic",saq:"Samburu",sas:"Sasak",sat:"Santali",sat_Olck:"Santali (Ol Chiki)",sba:"Ngambay",sbp:"Sangu",sc:"Sardinian",scn:"Sicilian",sco:"Scots",sd:"Sindhi",sd_Arab:"Sindhi (Arabic)",sd_Deva:"Sindhi (Devanagari)",se:"Northern Sami",see:"Seneca",seh:"Sena",
sel:"Selkup",ses:"Koyraboro Senni",sg:"Sango",sga:"Old Irish",sh:"Serbo-Croatian",shi:"Tachelhit",shi_Latn:"Tachelhit (Latin)",shi_Tfng:"Tachelhit (Tifinagh)",shn:"Shan",shu:"Chadian Arabic",si:"Sinhala",sid:"Sidamo",sk:"Slovak",sl:"Slovenian",sm:"Samoan",sma:"Southern Sami",smj:"Lule Sami",smn:"Inari Sami",sms:"Skolt Sami",sn:"Shona",snk:"Soninke",so:"Somali",sog:"Sogdien",sq:"Albanian",sr:"Serbian",sr_Cyrl:"Serbian (Cyrillic)",sr_Latn:"Serbian (Latin)",srn:"Sranan Tongo",srr:"Serer",ss:"Swati",
ssy:"Saho",st:"Southern Sotho",su:"Sundanese",su_Latn:"Sundanese (Latin)",suk:"Sukuma",sus:"Susu",sux:"Sumerian",sv:"Swedish",sw:"Swahili",sw_CD:"Swahili (Congo - Kinshasa)",swb:"Comorian",syc:"Classical Syriac",syr:"Syriac",szl:"Silesian",ta:"Tamil",te:"Telugu",tem:"Timne",teo:"Teso",ter:"Tereno",tet:"Tetum",tg:"Tajik",th:"Thai",ti:"Tigrinya",tig:"Tigre",tiv:"Tiv",tk:"Turkmen",tkl:"Tokelau",tl:"Tagalog",tlh:"Klingon",tli:"Tlingit",tmh:"Tamashek",tn:"Tswana",to:"Tongan",tog:"Nyasa Tonga",tok:"Toki Pona",
tpi:"Tok Pisin",tr:"Turkish",trv:"Taroko",ts:"Tsonga",tsi:"Tsimshian",tt:"Tatar",tum:"Tumbuka",tvl:"Tuvalu",tw:"Twi",twq:"Tasawaq",ty:"Tahitian",tyv:"Tuvinian",tzm:"Central Atlas Tamazight",udm:"Udmurt",ug:"Uyghur",uga:"Ugaritic",uk:"Ukrainian",umb:"Umbundu",ur:"Urdu",uz:"Uzbek",uz_Arab:"Uzbek (Arabic)",uz_Cyrl:"Uzbek (Cyrillic)",uz_Latn:"Uzbek (Latin)",vai:"Vai",vai_Latn:"Vai (Latin)",vai_Vaii:"Vai (Vai)",ve:"Venda",vec:"Venetian",vi:"Vietnamese",vmw:"Makhuwa",vo:"Volap\u00fck",vot:"Votic",vun:"Vunjo",
wa:"Walloon",wae:"Walser",wal:"Wolaytta",war:"Waray",was:"Washo",wo:"Wolof",xal:"Kalmyk",xh:"Xhosa",xnr:"Kangri",xog:"Soga",yao:"Yao",yap:"Yapese",yav:"Yangben",ybb:"Yemba",yi:"Yiddish",yo:"Yoruba",yrl:"Nheengatu",yue:"Cantonese",yue_Hans:"Cantonese (Simplified)",yue_Hant:"Cantonese (Traditional)",za:"Zhuang",zap:"Zapotec",zbl:"Blissymbols",zen:"Zenaga",zgh:"Standard Moroccan Tamazight",zh:"Chinese",zh_Hans:"Chinese (Simplified)",zh_Hant:"Chinese (Traditional)",zh_TW:"Chinese (Taiwan)",zu:"Zulu",
zun:"Zuni",zxx:"No linguistic content",zza:"Zaza"};mC.prototype.contains=function(r){r=g.BR(this.segments,r);return r>=0||r<0&&(-r-1)%2===1};
mC.prototype.length=function(){return this.segments.length/2};
g.U(ZBW,g.N);g.x=ZBW.prototype;g.x.F2=function(){g.N.prototype.F2.call(this);this.L&&this.L.cancel()};
g.x.U5=function(){this.seekTo(this.player.getCurrentTime())};
g.x.seekTo=function(r){r-=this.player.aX();var D=this.W;this.W=g.XM(this.Tv.ED(r).ZQ);D!==this.W&&this.Y&&this.Y()};
g.x.reset=function(){this.S=new mC;this.D=-1;this.L&&(this.L.cancel(),this.L=null)};
g.x.Tk=function(){this.DQ();var r;if(r=this.W!=null)r=this.W,r=r.W.hI(r);if(r&&!this.L&&!(this.W&&this.W.startTime-this.player.getCurrentTime()>30)){r=this.W;r=r.W.Nm(r);var D=r.ZQ[0],Y;if((Y=this.player.getVideoData())==null?0:Y.enableServerStitchedDai)if(Y=this.player.Zt()){var V=D.W.info.id,L=D.jD,T=r.ZQ[0].S;if(this.policy.rT){if(Y=Y.pw(T,L,V,3))r.S=Y}else if(V=Y.GS(T,L,V,3))if(Y=Y.Uw(L),Y===0)V&&(r.W=new g.t8(V));else if(Y===2){this.N.start();XJe(this)&&this.seekTo(this.player.getCurrentTime());
return}}D.W.index.u4(D.jD)?(this.S.contains(r.ZQ[0].jD)||oHS(this,r),this.W=g.XM(r.ZQ)):XJe(this)&&this.seekTo(this.player.getCurrentTime())}this.N.start()};
g.U(GV,g.k5);g.x=GV.prototype;g.x.hn=function(r,D,Y){var V=this;this.yn();D=HB_(this,r.getId());D||(D=r.languageCode,D=this.W.isManifestless?fPr(this,D,"386"):fPr(this,D));if(D){var L=(D.index.MM(D.index.Kg())-D.index.getStartTime(D.index.Kg()))*1E3,T=this.C.Z(),I=new g.nlx(T),B=function(){V.L&&V.L.reset();V.D=!0};
T.V("html5_keep_caption_data_after_seek")&&(B=null);this.L=new ZBW(I,this.C,D,function(m,G){Y.Q7(m,r,G,L)},this.N||g.IL(D.info),B)}};
g.x.fE=function(){var r=this.D;this.D=!1;return r};
g.x.Az=function(r){var D=this.C.Z().V("html5_fallback_if_rawcc_missing");var Y=this.W.W.rawcc!=null;if(!this.N||!Y&&D)D=this.W.isManifestless?nHq(this,"386"):nHq(this);else{if(!Y){this.logger.W(386248249,"rawcc used but unavailable");return}D=[new g.Ft({id:"rawcc",languageCode:"rawcc",languageName:"CC1",is_servable:!0,is_default:!0,is_translateable:!1,vss_id:".en"}),new g.Ft({id:"rawcc",languageCode:"rawcc",languageName:"CC3",is_servable:!0,is_default:!0,is_translateable:!1,vss_id:".en"})]}D=g.F(D);
for(Y=D.next();!Y.done;Y=D.next())g.qd(this.T,Y.value);r.Vb()};
g.x.yn=function(){this.L&&(this.L.dispose(),this.L=null)};
g.x.WC=function(){return""};
g.x.un=function(){this.L&&(this.L.reset(),this.C.Me("captions"))};
var h9=/^#(?:[0-9a-f]{3}){1,2}$/i;var DFq=["left","right","center","justify"];g.U(Mz,g.Z);g.x=Mz.prototype;g.x.g6=function(r,D){this.kz=r;this.JT=D;var Y=g.J1(this.element,this.element.parentElement);this.Bo=r-Y.x;this.T5=D-Y.y};
g.x.lj=function(r,D){if(r!==this.kz||D!==this.JT){g.s3(this.element,"ytp-dragging")||g.yO(this.element,"ytp-dragging");var Y=g.lc(this.element);r=r-this.Bo-.02*this.playerWidth;var V=D-this.T5-.02*this.playerHeight,L=(r+Y.width/2)/this.maxWidth*3;L=Math.floor(g.yN(L,0,2));var T=(V+Y.height/2)/this.maxHeight*3;T=Math.floor(g.yN(T,0,2));D=L+T*3;r=(r+L/2*Y.width)/this.maxWidth;r=g.yN(r,0,1)*100;Y=(V+T/2*Y.height)/this.maxHeight;Y=g.yN(Y,0,1)*100;this.T.params.wg=D;this.T.params.H9=Y;this.T.params.MU=
r;this.T.params.isDefault=!1;this.W.wg=D;this.W.H9=Y;this.W.MU=r;this.W.isDefault=!1;this.LP.wg=D;this.LP.H9=Y;this.LP.MU=r;this.LP.isDefault=!1;this.Hi()}};
g.x.PD=function(){g.Wf(this.element,"ytp-dragging")};
g.x.Hi=function(){this.VY(this.N)};
g.x.getType=function(){return this.type};
g.x.VY=function(r){var D=this.l8?0:Math.min(this.W4(),this.maxWidth),Y=this.EJ(),V=this.l8;if(V){var L=getComputedStyle(this.S.parentNode);L=jd(L.borderLeftWidth)+jd(L.borderRightWidth)+jd(L.paddingLeft)+jd(L.paddingRight)}else L=0;var T=L;L="";this.T.params.uH===3&&(L="rotate(180deg)");var I=V?"calc(96% - "+T+"px)":"96%";g.Uf(this.element,{top:0,left:0,right:"",bottom:"",width:D?D+"px":"",height:Y?Y+"px":"","max-width":I,"max-height":I,margin:"",transform:""});this.NO(r);L={transform:L,top:"",left:"",
width:D?D+"px":"",height:Y?Y+"px":"","max-width":"","max-height":""};var B=this.W.MU*.96+2;I=this.W.wg;switch(I){case 0:case 3:case 6:(V=this.W.tj.fontSizeIncrement)&&V>0&&this.W.uH!==2&&this.W.uH!==3&&(B=Math.max(B/(1+V*2),2));L.left=B+"%";break;case 1:case 4:case 7:L.left=B+"%";B=this.S.offsetWidth;D||B?(D=D||B+1,L.width=D+"px",L["margin-left"]=V?D/-2-T/2+"px":D/-2+"px"):L.transform+=" translateX(-50%)";break;case 2:case 5:case 8:L.right=100-B+"%"}V=this.W.H9*.96+2;switch(I){case 0:case 1:case 2:L.top=
V+"%";break;case 3:case 4:case 5:L.top=V+"%";(Y=Y||this.element.clientHeight)?(L.height=Y+"px",L["margin-top"]=Y/-2+"px"):L.transform+=" translateY(-50%)";break;case 6:case 7:case 8:L.bottom=100-V+"%"}g.Uf(this.element,L);if(this.D){Y=this.S.offsetHeight;V=1;for(D=0;D<r.length;D++)L=r[D],typeof L.text==="string"&&(V+=L.text.split("\n").length-1,L.append||D===0||V++);Y/=V;this.D.style.height=Y+"px";this.D.style.width=Y+"px";this.element.style.paddingLeft=Y+5+"px";this.element.style.paddingRight=Y+
5+"px";r=Number(this.element.style.marginLeft.replace("px",""))-Y-5;Y=Number(this.element.style.marginRight.replace("px",""))-Y-5;this.element.style.marginLeft=r+"px";this.element.style.marginRight=Y+"px"}};
g.x.NO=function(r){var D;for(D=0;D<r.length&&r[D]===this.N[D];D++);if(this.Gv||this.N.length>D)D=0,this.Gv=!1,this.N=[],this.K=this.eD=this.rT=null,g.xt(this.S);for(;D<r.length;D++)IV_(this,r[D])};
g.x.W4=function(){return 0};
g.x.EJ=function(){return 0};
g.x.toString=function(){return g.Z.prototype.toString.call(this)};Bc0.prototype.clear=function(){this.L=this.time=this.mode=0;this.W=[];this.reset()};
Bc0.prototype.reset=function(){this.mode=0;this.S.reset(0);this.j.reset(1)};
var mFT=[128,1,2,131,4,133,134,7,8,137,138,11,140,13,14,143,16,145,146,19,148,21,22,151,152,25,26,155,28,157,158,31,32,161,162,35,164,37,38,167,168,41,42,171,44,173,174,47,176,49,50,179,52,181,182,55,56,185,186,59,188,61,62,191,64,193,194,67,196,69,70,199,200,73,74,203,76,205,206,79,208,81,82,211,84,213,214,87,88,217,218,91,220,93,94,223,224,97,98,227,100,229,230,103,104,233,234,107,236,109,110,239,112,241,242,115,244,117,118,247,248,121,122,251,124,253,254,127,0,129,130,3,132,5,6,135,136,9,10,139,
12,141,142,15,144,17,18,147,20,149,150,23,24,153,154,27,156,29,30,159,160,33,34,163,36,165,166,39,40,169,170,43,172,45,46,175,48,177,178,51,180,53,54,183,184,57,58,187,60,189,190,63,192,65,66,195,68,197,198,71,72,201,202,75,204,77,78,207,80,209,210,83,212,85,86,215,216,89,90,219,92,221,222,95,96,225,226,99,228,101,102,231,232,105,106,235,108,237,238,111,240,113,114,243,116,245,246,119,120,249,250,123,252,125,126,255];QP.prototype.set=function(r){this.type=r};
QP.prototype.get=function(){return this.type};
sJ.prototype.clear=function(){this.state=0};
sJ.prototype.update=function(){this.state=this.state===2?1:0};
sJ.prototype.u9=function(){return this.state!==0};
sJ.prototype.matches=function(r,D){return this.u9()&&r===this.rp&&D===this.yQ};
sGe.prototype.reset=function(){this.timestamp=this.W=0};
yP.prototype.updateTime=function(r){for(var D=1;D<=15;++D)for(var Y=1;Y<=32;++Y)this.L[D][Y].timestamp=r};
yP.prototype.debugString=function(){for(var r="\n",D=1;D<=15;++D){for(var Y=1;Y<=32;++Y){var V=this.L[D][Y];r=V.W===0?r+"_":r+String.fromCharCode(V.W)}r+="\n"}return r};
yP.prototype.reset=function(r){for(var D=0;D<=15;D++)for(var Y=0;Y<=32;Y++)this.L[D][Y].reset();this.S=r;this.W=0;this.T=this.row=1};
var yFS=[32,33,34,35,36,37,38,39,40,41,225,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,233,93,237,243,250,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,231,247,209,241,9632],aVr=[174,176,189,191,8482,162,163,9834,224,32,232,226,234,238,244,251],WJS=[193,201,211,218,220,252,8216,161,42,39,9473,169,8480,183,8220,8221,192,194,199,200,202,203,235,
206,207,239,212,217,249,219,171,187],UFM=[195,227,205,204,236,210,242,213,245,123,125,92,94,95,124,126,196,228,214,246,223,165,164,9475,197,229,216,248,9487,9491,9495,9499];kEe.prototype.reset=function(r,D){this.j=D;this.style.set(2);this.T=this.D;this.S=this.N;this.W=this.T;var Y=(r<<2)+(D<<1);this.D.reset(Y);this.N.reset(Y);this.text.reset((r<<2)+(D<<1)+1)};
xFq.prototype.reset=function(r){this.j=r;this.T.clear();this.S=this.L;this.L.reset(r,0);this.D.reset(r,1)};Oiq.prototype.S=function(){};g.U(uB,g.Qe);uB.prototype.toString=function(){return g.Qe.prototype.toString.call(this)};g.U(qz,g.N);qz.prototype.wf=function(){return[]};
qz.prototype.reset=function(){};g.U(kI,g.Qe);kI.prototype.toString=function(){return g.Qe.prototype.toString.call(this)};
var gp=0;g.U($I,qz);$I.prototype.reset=function(){this.D={};this.T=this.W=null;this.j=!0};
$I.prototype.wf=function(r,D){r=r.firstChild;r.getAttribute("format");D=D||0;Number.isFinite(D);r=Array.from(r.childNodes);r=g.F(r);for(var Y=r.next();!Y.done;Y=r.next())if(Y=Y.value,Y.nodeType===1)switch(Y.tagName){case "head":var V=Y;break;case "body":var L=Y}if(V)for(V=Array.from(V.childNodes),V=g.F(V),r=V.next();!r.done;r=V.next())if(r=r.value,r.nodeType===1)switch(r.tagName){case "pen":Y=r.getAttribute("id");var T=this.pens,I={},B=r.getAttribute("p");B&&Object.assign(I,this.pens[B]);B=OJ(r,"b");
B!=null&&(I.bold=B);B=OJ(r,"i");B!=null&&(I.italic=B);B=OJ(r,"u");B!=null&&(I.underline=B);B=pv(r,"et");B!=null&&(I.charEdgeStyle=B);B=pv(r,"of");B!=null&&(I.offset=B);B=t9(r,"bc");B!=null&&(I.background=B);B=t9(r,"ec");B!=null&&(I.F8=B);B=t9(r,"fc");B!=null&&(I.color=B);B=pv(r,"fs");B!=null&&B!==0&&(I.fontFamily=B);B=A9(r,"sz");B!==void 0&&(I.fontSizeIncrement=B/100-1);B=A9(r,"bo");B!==void 0&&(I.backgroundOpacity=B/255);B=A9(r,"fo");B!==void 0&&(I.textOpacity=B/255);B=pv(r,"rb");B!=null&&B!==10&&
B!==0&&(I.CZ=B>10?B-1:B);r=pv(r,"hg");r!=null&&(I.W5=r);T[Y]=I;break;case "ws":Y=r.getAttribute("id");this.K[Y]=iiq(this,r);break;case "wp":Y=r.getAttribute("id"),this.N[Y]=JFS(this,r)}if(L){V=[];L=Array.from(L.childNodes);L=g.F(L);for(r=L.next();!r.done;r=L.next())if(r=r.value,r.nodeType===1)switch(r.tagName){case "w":this.W=KJq(this,r,D,!1);(r=this.D[this.W.id])&&r.end>this.W.start&&(r.end=this.W.start);this.D[this.W.id]=this.W;V.push(this.W);break;case "p":var m=r;B=D;Y=[];T=m.getAttribute("w")||
this.S;I=!!OJ(m,"a");B=(A9(m,"t")||0)+B;var G=A9(m,"d")||5E3;I||(!this.j&&this.T&&this.T.windowId===T&&this.T.end>B&&(this.T.end=B),this.T&&this.T.text==="\n"&&(this.T.text=""));var M=I?6:5,Q=m.getAttribute("p");Q=Q?this.pens[Q]:null;var y=Array.from(m.childNodes);y.length&&(this.j=m.getAttribute("d")!=null);for(m=0;m<y.length;m++){var a=y[m],W=void 0;m>0&&(I=!0);var q=void 0;a.nodeType===1&&(q=a);if(q&&q.tagName==="s"){if((a=(a=q.getAttribute("p"))?this.pens[a]:null)&&a.CZ&&(a.CZ===1?(a=y.slice(m,
m+4),a.length===4&&(W=hUx(B,G,T,I,M,a,this.pens),m+=3)):W=hUx(B,G,T,I,M,[q],this.pens)),!W){var A=q;W=B;q=G;a=T;var p=I,t=M,l=A.textContent?A.textContent:"",d=A.getAttribute("p");d=d?this.pens[d]:null;A=A9(A,"t")||0;W=new uB(W+A,q-A,t,a,l,p,d)}}else W=new uB(B,G,M,T,a.textContent||"",I,Q);Y.push(W);this.T=W}if(Y.length>0)for(Y[0].windowId===this.S&&(this.W=KJq(this,r,D,!0),V.push(this.W)),r=g.F(Y),Y=r.next();!Y.done;Y=r.next())Y=Y.value,Y.windowId=this.W.id,this.W.W.push(Y),V.push(Y)}D=V}else D=[];
return D};var yor=new Map([[9,1],[10,1],[11,2],[12,3],[13,4],[14,5]]);g.U(iB,qz);iB.prototype.reset=function(){this.T.clear()};
iB.prototype.wf=function(r,D){var Y=JSON.parse(r);if(!Y)return[];if(Y.pens){r=0;for(var V=g.F(Y.pens),L=V.next();!L.done;L=V.next()){L=L.value;var T={},I=L.pParentId;I&&Object.assign(T,this.W.get(I));L.bAttr&&(T.bold=!0);L.iAttr&&(T.italic=!0);L.uAttr&&(T.underline=!0);I=L.ofOffset;I!=null&&(T.offset=I);L.szPenSize!==void 0&&(T.fontSizeIncrement=L.szPenSize/100-1);I=L.etEdgeType;I!=null&&(T.charEdgeStyle=I);L.ecEdgeColor!==void 0&&(T.F8=J9(L.ecEdgeColor));I=L.fsFontStyle;I!=null&&I!==0&&(T.fontFamily=
I);L.fcForeColor!==void 0&&(T.color=J9(L.fcForeColor));L.foForeAlpha!==void 0&&(T.textOpacity=L.foForeAlpha/255);L.bcBackColor!==void 0&&(T.background=J9(L.bcBackColor));L.boBackAlpha!==void 0&&(T.backgroundOpacity=L.boBackAlpha/255);(I=L.rbRuby)&&I!==10&&(T.CZ=I>10?I-1:I,T.j4=yor.get(T.CZ));L.hgHorizGroup&&(T.W5=L.hgHorizGroup);this.W.set(r++,T)}}if(Y.wsWinStyles)for(r=0,V=g.F(Y.wsWinStyles),L=V.next();!L.done;L=V.next())L=L.value,T={},(I=L.wsParentId)?Object.assign(T,this.S.get(I)):Object.assign(T,
this.j),L.mhModeHint!==void 0&&(T.oU=L.mhModeHint),L.juJustifCode!==void 0&&(T.textAlign=L.juJustifCode),L.pdPrintDir!==void 0&&(T.uH=L.pdPrintDir),L.sdScrollDir!==void 0&&(T.vz=L.sdScrollDir),L.wfcWinFillColor!==void 0&&(T.windowColor=J9(L.wfcWinFillColor)),L.wfoWinFillAlpha!==void 0&&(T.windowOpacity=L.wfoWinFillAlpha/255),this.S.set(r++,T);if(Y.wpWinPositions)for(r=0,V=g.F(Y.wpWinPositions),L=V.next();!L.done;L=V.next())L=L.value,T={},(I=L.wpParentId)&&Object.assign(T,this.L.get(I)),L.ahHorPos!==
void 0&&(T.MU=L.ahHorPos),L.apPoint!==void 0&&(T.wg=L.apPoint),L.avVerPos!==void 0&&(T.H9=L.avVerPos),L.ccCols!==void 0&&(T.MY=L.ccCols),L.rcRows!==void 0&&(T.Rn=L.rcRows),this.L.set(r++,T);if(Y.events){r=[];Y=g.F(Y.events);for(V=Y.next();!V.done;V=Y.next()){var B=V.value;L=(B.tStartMs||0)+D;T=B.dDurationMs||0;if(B.id)I=String(B.id),V=lV_(this,B,L,T,I),r.push(V),this.T.set(I,V);else{B.wWinId?I=B.wWinId.toString():(I="_"+gp++,V=lV_(this,B,L,T,I),r.push(V),this.T.set(I,V));V=r;var m=B;T===0&&(T=5E3);
B=this.T.get(I);var G=!!m.aAppend,M=G?6:5,Q=m.segs,y=null;m.pPenId&&(y=this.W.get(m.pPenId));for(m=0;m<Q.length;m++){var a=Q[m],W=a.utf8;if(W){var q=a.tOffsetMs||0,A=null;a.pPenId&&(A=this.W.get(a.pPenId));if((B.params.oU!=null?B.params.oU:B.W.length>1?1:0)===2&&G&&W==="\n")continue;a=null;var p=[],t;if(t=A&&A.CZ===1){t=Q;var l=m;if(l+3>=t.length||!t[l+1].pPenId||!t[l+2].pPenId||!t[l+3].pPenId)t=!1;else{var d=t[l+1].pPenId;(d=this.W.get(d))&&d.CZ&&d.CZ===2?(d=t[l+2].pPenId,d=this.W.get(d),!d||!d.CZ||
d.CZ<3?t=!1:(d=t[l+3].pPenId,t=(d=this.W.get(d))&&d.CZ&&d.CZ===2?!0:!1)):t=!1}}if(t)q=Q[m+1].utf8,a=Q[m+3].utf8,t=Q[m+2].utf8,l=this.W.get(Q[m+2].pPenId),W=p7c(W,q,t,a,l),a=new uB(L,T,M,I,W,G,A),m+=3;else{if(W.indexOf("<")>-1){var b=void 0;p=A;t=y;l=L;d=T;var n=q,P=M,Ly=G,xw=[],rQ=g.Pv("<html>"+W+"</html>");if(!rQ.getElementsByTagName("parsererror").length&&((b=rQ.firstChild)==null?0:b.childNodes.length))for(b=g.F(rQ.firstChild.childNodes),rQ=b.next();!rQ.done;rQ=b.next()){rQ=rQ.value;var c=void 0,
w=void 0,u=(w=(c=rQ.textContent)==null?void 0:c.replace(/\n/g,""))!=null?w:"";if(rQ.nodeType!==3||u&&u.match(/^ *$/)==null){c={};Object.assign(c,p||t);w=void 0;switch((w=rQ)==null?void 0:w.tagName){case "b":c.bold=!0;break;case "i":c.italic=!0;break;case "u":c.underline=!0}xw.push(new uB(l+n,d-n,P,B.id,u,Ly,c))}}p=xw}p.length||(p=[new uB(L+q,T-q,M,B.id,W,G,A||y)])}if(p.length)for(G=g.F(p),A=G.next();!A.done;A=G.next())A=A.value,V.push(A),B.W.push(A);else a&&(V.push(a),B.W.push(a))}G=!0}}}D=r}else D=
[];return D};g.U(Kv,g.k5);Kv.prototype.hn=function(r,D,Y){SPr(this.videoData.videoId,r.vssId,Y.Q7)};
Kv.prototype.Az=function(r){if(this.audioTrack)for(var D=g.F(this.audioTrack.captionTracks),Y=D.next();!Y.done;Y=D.next())g.qd(this.T,Y.value);r.Vb()};g.U(lB,Mz);lB.prototype.NO=function(r){var D=this.T.W;Mz.prototype.NO.call(this,r);for(r=r.length;r<D.length;r++){var Y=D[r];if(T&&Y.W===L)var V=T;else{V={};Object.assign(V,Y.W);Object.assign(V,air);var L=Y.W;var T=V}IV_(this,Y,V)}};
var air={ZP_:!0};g.U(EJ,Oiq);EJ.prototype.S=function(r,D,Y,V,L){if(Y<V){var T="_"+gp++;Y=Y/1E3-this.D;V=V/1E3-this.D;r=new kI(Y,V-Y,5,T,{textAlign:0,wg:0,MU:D*2.5,H9:r*5.33});L=new uB(Y,V-Y,5,T,L);this.T.push(r);this.T.push(L)}};
g.U(dp,qz);dp.prototype.wf=function(r){r=new EJ(r,r.byteLength,this.T);if(EtW(r)){for(;r.byteOffset<r.W.byteLength;)for(r.version===0?r.L=zV(r)*(1E3/45):r.version===1&&(r.L=zV(r)*4294967296+zV(r)),r.j=Rl(r);r.j>0;r.j--){var D=Rl(r),Y=Rl(r),V=Rl(r);D&4&&(D&3)===this.track&&(this.track===0||this.track===1)&&(D=this.W,D.W.push({time:r.L,type:this.track,Ni:Y,Oo:V,order:D.W.length}))}QGS(this.W,r);return r.T}return[]};
dp.prototype.reset=function(){this.W.clear()};g.U(Sd,Mz);g.x=Sd.prototype;g.x.Hi=function(){g.Ix(this.UI)};
g.x.Ce=function(){this.b$&&this.element.removeEventListener("transitionend",this.Ce,!1);g.Wf(this.element,"ytp-rollup-mode");this.VY(this.Zf,!0)};
g.x.EJ=function(){return this.L?this.Tv:this.Y};
g.x.W4=function(){return this.L?this.Y:this.Tv};
g.x.VY=function(r,D){this.Zf=r;if(this.T.params.Rn){for(var Y=0,V=0;V<this.N.length&&Y<r.length;V++)this.N[V]===r[Y]&&Y++;Y>0&&Y<r.length&&(r=this.N.concat(r.slice(Y)));this.p5=this.Tv;this.Y=this.Tv=0;Mz.prototype.VY.call(this,r);SY_(this,D)}Mz.prototype.VY.call(this,r)};Ncr.prototype.unload=function(){this.Up!=null&&(this.C.removeEventListener("sabrCaptionsDataLoaded",this.Up),this.Up=null);this.US=[];this.C.publish("sabrCaptionsBufferedRangesUpdated",this.US)};
Ncr.prototype.BF=function(r){return{formatId:g.B5(r.info.W.info,this.Df),jD:r.info.jD+(this.Df?0:1),startTimeMs:r.info.S*1E3,durationMs:r.info.K*1E3}};g.U(cFS,g.k5);g.x=cFS.prototype;g.x.hn=function(r,D,Y){this.yn();D=r.getId();D=D!=null&&D in this.W.W?this.W.W[D]:null;D||(D=r.languageCode,D=this.W.isManifestless?Ziq(this,D,"386"):Ziq(this,D));D&&(this.L=r,this.D=D,eU5(this.N,Y),this.C.publish("sabrCaptionsTrackChanged",g.B5(D.info,this.W.Df)))};
g.x.Az=function(r){var D=this.W.isManifestless?C3T(this,"386"):C3T(this);D=g.F(D);for(var Y=D.next();!Y.done;Y=D.next())g.qd(this.T,Y.value);r.Vb()};
g.x.yn=function(){this.L&&(this.L=this.D=null,this.N.unload(),this.C.publish("sabrCaptionsTrackChanged",null))};
g.x.WC=function(){return""};
g.x.un=function(){this.C.Me("captions")};g.U(Nz,qz);
Nz.prototype.wf=function(r,D){var Y=[];r=r.split(WLT);for(var V=1;V<r.length;V++){var L=r[V],T=D;if(L!==""&&!UHr.test(L)){var I=FL5.exec(L);if(I&&I.length>=4){var B=P30(I[1]),m=P30(I[2])-B;B+=T;var G=(I=I[3])?I.split(" "):[];I={};var M=null;var Q="";var y=null,a="";G=g.F(G);for(var W=G.next();!W.done;W=G.next())if(W=W.value.split(":"),W.length===2){var q=W[1];switch(W[0]){case "line":W=q.split(",");W[0].endsWith("%")&&(M=W[0],I.H9=Number.parseInt(M,10),W.length===2&&(Q=W[1].trim()));break;case "position":W=
q.split(",");y=W[0];I.MU=Number.parseInt(y,10);W.length===2&&(a=W[1].trim());break;case "align":switch(q){case "start":I.textAlign=0;break;case "middle":I.textAlign=2;break;case "end":I.textAlign=1}}}M||Q||(Q="end");if(!y)switch(I.textAlign){case 0:I.MU=0;break;case 1:I.MU=100;break;case 2:I.MU=50}if(I.textAlign!=null){M=0;switch(Q){case "center":M+=3;break;case "end":M+=6;break;default:M+=0}switch(a){case "line-left":M+=0;break;case "center":M+=1;break;case "line-right":M+=2;break;default:switch(I.textAlign){case 0:M+=
0;break;case 2:M+=1;break;case 1:M+=2}}Q=M<0||M>8?7:M;I.wg=Q}L=L.substring(FL5.lastIndex).replace(/[\x01-\x09\x0b-\x1f]/g,"");a=I;I=L;L={};if(I.indexOf("<")<0&&I.indexOf("&")<0)T=ntc(B,m,5,a),m=new uB(B,m,5,T.id,I,!1,g.lu(L)?void 0:L),Y.push(T),Y.push(m),T.W.push(m);else for(Q=I.split(u3q),Q.length===1?(I=5,a=ntc(B,m,I,a)):(M=I=6,a=Object.assign({MY:32},a),a=new kI(B,m,M,"_"+gp++,a)),Y.push(a),M=B,y=0;y<Q.length;y++)G=Q[y],y%2===0?(W=g.Pv("<html>"+G+"</html>"),W.getElementsByTagName("parsererror").length?
(q=W.createElement("span"),q.appendChild(W.createTextNode(G))):q=W.firstChild,otr(this,M,m-(M-B),I,a,y>0,q,L,Y)):M=P30(G)+T}FL5.lastIndex=0}}return Y};
var UHr=/^NOTE/,WLT=/(?:\r\n|\r|\n){2,}/,FL5=RegExp("^((?:[\\d]{2}:)?[\\d]{2}:[\\d]{2}\\.[\\d]{3})[\\t ]+--\x3e[\\t ]+((?:[\\d]{2}:)?[\\d]{2}:[\\d]{2}\\.[\\d]{3})(?:[\\t ]*)(.*)(?:\\r\\n|\\r|\\n)","gm"),u3q=RegExp("<((?:[\\d]{2}:)?[\\d]{2}:[\\d]{2}\\.[\\d]{3})>");g.Rn.cq(Nz,{wf:"wvppt"});g.U(vq,g.N);
vq.prototype.wf=function(r,D,Y,V){V=V||0;Y=fVr(this,r,Y||0);r=[];try{for(var L=g.F(Y),T=L.next();!T.done;T=L.next()){var I=T.value,B=I.trackData,m=I.lK;if(typeof B!=="string"){Y=r;var G=Y.concat,M=D,Q=B,y=m,a=V;if(!RUe(Q))throw Error("Invalid binary caption track data");this.W||(this.W=new dp(a,M));var W=this.W.wf(Q,y);var q=G.call(Y,W)}else{if(B.substring(0,6)==="WEBVTT"){Y=r;var A=Y.concat;this.W||(this.W=new Nz);var p=this.W.wf(B,m);Math.random()<.01&&g.C0(Error("Deprecated subtitles format in web player: WebVTT"));var t=
A.call(Y,p)}else{Y=r;var l=Y.concat;a:{M=D;if(B[0]==="{")try{this.W||(this.W=new iB(w7T(M)));var d=this.W.wf(B,m);break a}catch(rQ){g.c1(rQ);d=[];break a}var b=g.Pv(B);if(!b||!b.firstChild){var n=Error("Invalid caption track data");n.params=B;throw n;}if(b.firstChild.tagName==="timedtext"){if(Number(b.firstChild.getAttribute("format"))===3){Q=b;this.W||(this.W=new $I(w7T(M),this.ag));d=this.W.wf(Q,m);break a}var P=Error("Unsupported subtitles format in web player (Format2)");P.params=B;throw P;}if(b.firstChild.tagName===
"transcript"){var Ly=Error("Unsupported subtitles format in web player (Format1)");Ly.params=B;throw Ly;}var xw=Error("Invalid caption track data");xw.params=B;throw xw;}t=l.call(Y,d)}q=t}r=q}return r}catch(rQ){return this.logger.W(187101178,"Captions parsing failed: "+rQ.message+". "),this.clear(),[]}};
vq.prototype.clear=function(){this.W&&this.W.dispose();this.W=null};
vq.prototype.reset=function(){this.W&&this.W.reset()};
vq.prototype.F2=function(){g.N.prototype.F2.call(this);this.clear()};var nv={windowColor:"#080808",windowOpacity:0,textAlign:2,wg:7,MU:50,H9:100,isDefault:!0,tj:{background:"#080808",backgroundOpacity:.75,charEdgeStyle:0,color:"#fff",fontFamily:4,fontSizeIncrement:0,textOpacity:1,offset:1}};g.U(bB,g.uF);g.x=bB.prototype;g.x.F2=function(){if(this.j||this.Gv){var r=this.C.PY();r&&!r.DQ()&&r.Xs()}else sk_(this,!1);g.uF.prototype.F2.call(this)};
g.x.fQ=function(){return this.ag.V("html5_honor_caption_availabilities_in_audio_track")&&this.S!=="LIVE"&&this.S!=="SABR_LIVE"};
g.x.C4=function(){if(this.UI)return this.j||this.Gv;var r=this.getAudioTrack();if(this.fQ()){if(!r.captionTracks.length)return!1;if(!this.W)return!0}r=EHM(r,g.YA(this.ag));return r==="CAPTIONS_INITIAL_STATE_ON_REQUIRED"?!0:r==="CAPTIONS_INITIAL_STATE_OFF_REQUIRED"?ed(this):Vaq(this)||ed(this)?!0:LLc(this)};
g.x.load=function(){g.uF.prototype.load.call(this);this.Y=this.getAudioTrack();if(this.W)this.T&&(this.OI.clear(),this.j?Iia(this,!0):this.player.getPresentingPlayerType()!==3&&this.W.hn(this.T,"json3",this.l8),this.j||this.Gv||ZB(this)||this.player.Y$("captionschanged",g.qr(this.T)));else{var r;this.S==="OFFLINE"?r=new Kv(this.player,this.videoData,this.getAudioTrack()):this.S==="SABR_LIVE"?r=new cFS(this.videoData.W,this.player):this.S==="LIVE"?r=new GV(this.videoData.W,this.player):this.S==="INNERTUBE"?
r=new g.g5(this.player,this.videoData,this.getAudioTrack()):r=new g.Aw(this.player,this.videoData.dJ,this.videoData.videoId,g.FHE(this.videoData),this.videoData.gm,this.videoData.eventId);this.W=r;g.v(this,this.W);this.W.Az(this.l8)}};
g.x.unload=function(){this.j&&this.T?Iia(this,!1):(this.y_&&g.Bf(this.y_),this.player.Me("captions"),this.rT=[],this.W&&this.W.yn(),this.OI.clear(),this.Tv&&this.player.a$(this.Tv),this.sC());g.uF.prototype.unload.call(this);this.player.wR();this.player.Y$("captionschanged",{})};
g.x.create=function(){this.C4()&&this.load();var r;a:{var D,Y,V;if(this.ag.V("web_player_nitrate_promo_tooltip")&&((D=this.videoData.getPlayerResponse())==null?0:(Y=D.captions)==null?0:(V=Y.playerCaptionsTracklistRenderer)==null?0:V.enableTouchCaptionsNitrate)){var L,T;if(D=(r=this.videoData.getPlayerResponse())==null?void 0:(L=r.captions)==null?void 0:(T=L.playerCaptionsTracklistRenderer)==null?void 0:T.captionTracks)for(r=g.F(D),L=r.next();!L.done;L=r.next())if(L=L.value,L.kind==="asr"&&L.languageCode===
"en"){r=!0;break a}}r=!1}r&&this.C.publish("showpromotooltip",this.N.element)};
g.x.Vb=function(){var r=EHM(this.player.getAudioTrack(),g.YA(this.ag));var D=r==="CAPTIONS_INITIAL_STATE_ON_REQUIRED"?Cv(this,this.K):r==="CAPTIONS_INITIAL_STATE_OFF_REQUIRED"&&ed(this)?cq(this):Vaq(this)||this.K||LLc(this)?Cv(this,this.K):ed(this)?cq(this):null;if(this.j||this.Gv){var Y=g.x5(this.W.T,!0);r=[];for(var V=0;V<Y.length;V++){var L=Y[V],T=g.Li("TRACK");T.setAttribute("kind","subtitles");T.setAttribute("label",g.uD(L));T.setAttribute("srclang",g.kA(L));T.setAttribute("id",L.toString());
this.Gv||T.setAttribute("src",this.W.WC(L,"vtt"));L===D&&T.setAttribute("default","1");r.push(T)}D=this.C.PY();D.pN(r);r=D.gD();this.T5&&this.gT.X(r.textTracks,"change",this.oy2)}else!this.T&&D&&Pq(this,D),this.player.Y$("onCaptionsTrackListChanged"),this.player.rJ("onApiChange")};
g.x.oy2=function(){for(var r=this.C.PY().gD().textTracks,D=null,Y=0;Y<r.length;Y++)if(r[Y].mode==="showing")a:{D=g.x5(this.W.T,!0);for(var V=0;V<D.length;V++)if(D[V].toString()===r[Y].id){D=D[V];break a}D=null}(this.loaded?this.T:null)!==D&&Pq(this,D,!0)};
g.x.FSz=function(){!this.T&&this.j||this.unload()};
g.x.Q7=function(r,D,Y,V){if(r){var L;BS0(this,(L=this.T)!=null?L:void 0);this.W.fE()&&(this.rT=[],this.C.Me("captions"),Bq(this.eD),this.OI.reset());if(this.videoData.S$){var T;Y=((T=Y)!=null?T:0)+this.videoData.S$}r=this.OI.wf(r,D,Y,V);if(this.kz)for(D=g.F(r),Y=D.next();!Y.done;Y=D.next())Y=Y.value,Y.L=this.videoData.clientPlaybackNonce,Y.Qu=this.videoData.S$;D=!this.ag.V("html5_keep_caption_data_after_seek")&&(this.S==="LIVE"||this.S==="SABR_LIVE");this.player.a$(r,void 0,D);!this.K||this.Gv||ZB(this)||
g.zA(this.ag)||g.bd(this.ag)||g.Xg(this.ag)||this.ag.Gv==="shortspage"||this.player.isInline()||(g.Bf(this.y_),r=tu0({wg:0,MU:5,H9:5,Rn:2,textAlign:0,uH:0,lang:"en-GB"}),this.u$=[r],D=["Click "," for settings"],this.JT||(Y=new g.F6(g.d2()),g.v(this,Y),this.JT=Y.element),Y=r.end-r.start,(V=g.uD(this.T))&&this.u$.push(new uB(r.start,Y,0,r.id,V)),this.u$.push(new uB(r.start,Y,0,r.id,D[0]),new uB(r.start,Y,0,r.id,this.JT,!0),new uB(r.start,Y,0,r.id,D[1],!0)),this.player.a$(this.u$),g.TH(this.y_));!this.K||
this.Gv||ZB(this)||(g.YA(this.ag)?XW(this,!0):ol(this,!0),this.Y&&(this.Y.S=this.T),this.player.wR());this.K=!1}};
g.x.onCueRangeEnter=function(r){this.rT.push(r);Bq(this.eD)};
g.x.onCueRangeExit=function(r){g.wT(this.rT,r);this.W instanceof GV&&this.W.N&&this.player.Zm([r]);Bq(this.eD)};
g.x.getCaptionWindowContainerId=function(){return this.N.element.id};
g.x.dxF=function(){Qka(this,this.u$);this.u$=null};
g.x.uK=function(){var r=this;if(!this.z5||!this.j){this.eD.stop();g.ZwY(this.b$);this.rT.sort(g.sn);var D=this.rT;if(this.Tv){var Y=g.aX(D,function(T){return this.Tv.indexOf(T)===-1},this);
Y.length&&(D=Y)}D=g.F(D);for(Y=D.next();!Y.done;Y=D.next())Gbe(this,Y.value);D=g.F(Object.entries(this.i$));var V=D.next();for(Y={};!V.done;Y={A5:void 0,J8:void 0},V=D.next()){var L=g.F(V.value);V=L.next().value;L=L.next().value;Y.A5=V;Y.J8=L;this.b$[Y.A5]?(Y.J8.element.parentNode||(Y.J8 instanceof Sd||Y.J8 instanceof lB||g.OP(this.i$,function(T){return function(I,B){B!==T.A5&&I.T.params.wg===T.J8.T.params.wg&&I.T.params.MU===T.J8.T.params.MU&&I.T.params.H9===T.J8.T.params.H9&&(I.dispose(),delete r.i$[B]);
return B===T.A5}}(Y),this),this.N.element.appendChild(Y.J8.element)),Y.J8.VY(this.b$[Y.A5])):(Y.J8.dispose(),delete this.i$[Y.A5])}}};
g.x.uQ2=function(){DHr(this,{},!0);this.player.Y$("captionssettingschanged")};
g.x.tDY=function(){var r=nv.tj;r={background:r.background,backgroundOpacity:r.backgroundOpacity,charEdgeStyle:r.charEdgeStyle,color:r.color,fontFamily:r.fontFamily,fontSizeIncrement:r.fontSizeIncrement,fontStyle:r.bold&&r.italic?3:r.bold?1:r.italic?2:0,textOpacity:r.textOpacity,windowColor:nv.windowColor,windowOpacity:nv.windowOpacity};var D=cUa()||{};D.background!=null&&(r.background=D.background);D.backgroundOverride!=null&&(r.backgroundOverride=D.backgroundOverride);D.backgroundOpacity!=null&&
(r.backgroundOpacity=D.backgroundOpacity);D.backgroundOpacityOverride!=null&&(r.backgroundOpacityOverride=D.backgroundOpacityOverride);D.charEdgeStyle!=null&&(r.charEdgeStyle=D.charEdgeStyle);D.charEdgeStyleOverride!=null&&(r.charEdgeStyleOverride=D.charEdgeStyleOverride);D.color!=null&&(r.color=D.color);D.colorOverride!=null&&(r.colorOverride=D.colorOverride);D.fontFamily!=null&&(r.fontFamily=D.fontFamily);D.fontFamilyOverride!=null&&(r.fontFamilyOverride=D.fontFamilyOverride);D.fontSizeIncrement!=
null&&(r.fontSizeIncrement=D.fontSizeIncrement);D.fontSizeIncrementOverride!=null&&(r.fontSizeIncrementOverride=D.fontSizeIncrementOverride);D.fontStyle!=null&&(r.fontStyle=D.fontStyle);D.fontStyleOverride!=null&&(r.fontStyleOverride=D.fontStyleOverride);D.textOpacity!=null&&(r.textOpacity=D.textOpacity);D.textOpacityOverride!=null&&(r.textOpacityOverride=D.textOpacityOverride);D.windowColor!=null&&(r.windowColor=D.windowColor);D.windowColorOverride!=null&&(r.windowColorOverride=D.windowColorOverride);
D.windowOpacity!=null&&(r.windowOpacity=D.windowOpacity);D.windowOpacityOverride!=null&&(r.windowOpacityOverride=D.windowOpacityOverride);return r};
g.x.fu=function(r,D){var Y={};Object.assign(Y,cUa());Object.assign(Y,r);DHr(this,Y,D);this.player.Y$("captionssettingschanged")};
g.x.sC=function(){!this.j&&this.loaded&&(g.gI(this.i$,function(r,D){r.dispose();delete this.i$[D]},this),this.uK())};
g.x.f3=function(r,D){switch(r){case "fontSize":if(isNaN(D))break;r=g.yN(D,-2,4);this.fu({fontSizeIncrement:r});return r;case "reload":D&&!this.j&&Pq(this,this.T,!0);break;case "stickyLoading":D!==void 0&&this.ag.N&&(g.YA(this.ag)?XW(this,!!D):ol(this,!!D));break;case "track":return jkM(this,D);case "tracklist":return this.W?g.l1(g.x5(this.W.T,!(!D||!D.includeAsr)),function(Y){return g.qr(Y)}):[];
case "translationLanguages":return this.W?this.W.j.map(function(Y){return Object.assign({},Y)}):[];
case "sampleSubtitles":this.j||D===void 0||sk_(this,!!D);break;case "sampleSubtitlesCustomized":this.j||sk_(this,!!D,D);break;case "recommendedTranslationLanguages":return g.nH();case "defaultTranslationSourceTrackIndices":return this.W?this.W.K:[]}};
g.x.getOptions=function(){var r="reload fontSize track tracklist translationLanguages sampleSubtitle".split(" ");this.ag.N&&r.push("stickyLoading");return r};
g.x.W0=function(){var r=this.T;if(this.C.zy("captions")){if(this.ag.V("html5_modify_caption_vss_logging")){var D;return(r=(D=this.videoData.mm)!=null?D:null)?{cc:g.SLo(r)}:{}}if(r)return D=r.vssId,r.translationLanguage&&D&&(D="t"+D+"."+g.kA(r)),{cc:D}}return{}};
g.x.ZhP=function(){this.isSubtitlesOn()?(g.YA(this.ag)?XW(this,!1):ol(this,!1),BS0(this),Pq(this,null,!0)):this.M7()};
g.x.M7=function(){var r=ZB(this)||!this.T?Cv(this,!0):this.T;r&&this.Kh(r.vssId,"m");this.isSubtitlesOn()||Pq(this,ZB(this)||!this.T?Cv(this,!0):this.T,!0)};
g.x.isSubtitlesOn=function(){return!!this.loaded&&!!this.T&&!ZB(this)};
g.x.Cd_=function(){var r=ZB(this);ed(this,r)?Pq(this,this.getAudioTrack().W,!1):this.videoData.captionTracks.length&&(this.loaded&&this.unload(),this.fQ()&&(this.K=!1,this.T=null,this.W&&(this.W.dispose(),this.W=null)),this.C4()&&(r?Pq(this,Cv(this,!1),!1):this.load()))};
g.x.w0=function(r){r&&(this.LP={top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:1-r.left-r.right,height:1-r.top-r.bottom},this.N.element.style.top=this.LP.top*100+"%",this.N.element.style.left=this.LP.left*100+"%",this.N.element.style.width=this.LP.width*100+"%",this.N.element.style.height=this.LP.height*100+"%",this.N.element.style.position="absolute",r=Ma_(this))&&(this.N.element.style.width=r.width+"px",this.N.element.style.height=r.height+"px")};
g.x.onVideoDataChange=function(r,D){r==="newdata"&&(this.videoData=D,this.loaded&&this.unload(),this.K=!1,this.T=null,this.W&&(this.W.dispose(),this.W=null,this.player.Y$("captionschanged",{})),this.C4()&&this.load())};
g.x.getAudioTrack=function(){return this.kz&&this.player.getPresentingPlayerType()===2?this.videoData.rI:this.player.getAudioTrack()};
g.x.W3o=function(){var r=this.C.PY();r&&!r.DQ()&&r.Xs();this.C.isFullscreen()?(this.j=this.UI=!0,this.loaded&&this.Vb()):(this.UI=this.ag.controlsType==="3",this.j=roT(this));Pq(this,this.T)};
g.x.OO=function(){var r,D,Y,V=(r=this.videoData.getPlayerResponse())==null?void 0:(D=r.captions)==null?void 0:(Y=D.playerCaptionsTracklistRenderer)==null?void 0:Y.openTranscriptCommand;V&&this.player.KP("innertubeCommand",V)};
g.x.Ea=function(r,D,Y){var V=/&|,|:|;|(\n)|(\s)|(\/)|(\\)/gm,L="";r&&(L=r.vssId,L=L.replace(V,""));var T="";r&&r.getId()&&(T=r.getId()||"");r&&r.getXtags()&&(r=r.getXtags(),r=r.replace(V,""),T=T.concat(";"+r));this.C.Ea(D?L:"",D?T:"",Y)};
g.x.Kh=function(r,D){r=(r||"").replace(/&|,|:|;|(\n)|(\s)|(\/)|(\\)/gm,"");r.length>0&&this.C.Kh(r,D)};
g.x.un=function(){this.W&&this.W.un()};
g.Rn.cq(bB,{uK:"smucd"});g.Fx("captions",bB);})(_yt_player);
